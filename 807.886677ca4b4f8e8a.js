"use strict";(self.webpackChunksite_hderma=self.webpackChunksite_hderma||[]).push([[807],{7807:(je,M,r)=>{r.r(M),r.d(M,{CauhinhModule:()=>Ke});var _=r(9116),w=r(2289),e=r(4650),C=r(8739),g=r(6308),s=r(3626);const D=[{doanhthutu:5e5,doanhthuden:2e6,capbac:"B\u1ea1c",hhcanhan:10,hhgioithieu:2},{capbac:"\u0110\u1ed3ng",doanhthutu:0,doanhthuden:5e5,hhcanhan:5,hhgioithieu:2},{capbac:"V\xe0ng",doanhthutu:2e6,doanhthuden:1e7,hhcanhan:15,hhgioithieu:2},{capbac:"Kim C\u01b0\u01a1ng",doanhthutu:2e7,doanhthuden:5e7,hhcanhan:20,hhgioithieu:2}];var A=r(2252);let y=(()=>{class n{constructor(t,i,o){this.breakpointObserver=t,this._LocalStorageService=i,this.platformId=o,this.displayedColumns=["capbac","doanhthu","hhcanhan","hhgioithieu"],this.Cauhinh={},this.drawerMode="side",this.Opened=!0,this.breakpointObserver.observe(w.u3.Handset).subscribe(h=>{this.drawerMode=h.matches?"over":"side",this.Opened=!h.matches});const c=i.getItem("ListCauhinh");this.ListCauhinh=null!=c?JSON.parse(c):D}ngOnInit(){this.dataSource=new s.by(this.ListCauhinh)}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}AddCauhinh(t){this.ListCauhinh.push(t),this.Cauhinh={},this._LocalStorageService.setItem("ListCauhinh",JSON.stringify(this.ListCauhinh)),this.dataSource=new s.by(this.ListCauhinh)}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(w.Yg),e.Y36(A.n),e.Y36(e.Lbi))},n.\u0275cmp=e.Xpm({type:n,selectors:[["taza-base-cauhinh"]],viewQuery:function(t,i){if(1&t&&(e.Gf(C.NW,5),e.Gf(g.YE,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.paginator=o.first),e.iGM(o=e.CRH())&&(i.sort=o.first)}},decls:1,vars:0,template:function(t,i){1&t&&e._UZ(0,"router-outlet")},dependencies:[_.lC]}),n})();var v=r(2670),L=r(4838),S=r(8872),E=r(9016),p=r(6895),u=r(4006),T=r(7957),q=r(3238),Z=r(4859),m=r(9602),d=r(9549),b=r(4144),f=r(3267),N=r(266);function H(n,a){if(1&n&&(e.TgZ(0,"mat-option",57),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.Tieude," ")}}function J(n,a){if(1&n&&(e.TgZ(0,"mat-option",57),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.Tieude," ")}}function U(n,a){if(1&n&&(e.TgZ(0,"span",58),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("",e.xi3(2,1,t.Chiendich.DoanhThu,"1.0-2"),"\u0111")}}function I(n,a){if(1&n&&(e.TgZ(0,"mat-hint",65),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw().index,i=e.oxw();e.xp6(1),e.hij("",e.xi3(2,1,i.Chiendich.DoanhThu*i.Chiendich.ListDiem[t]/100,"1.0-2"),"\u0111")}}function G(n,a){if(1&n&&(e.TgZ(0,"mat-hint",65),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw().index,i=e.oxw();e.xp6(1),e.hij("",e.xi3(2,1,i.Chiendich.DoanhThu*i.Chiendich.ListGiatriqua[t]/100,"1.0-2"),"\u0111")}}function Q(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",59)(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div")(4,"span",60),e._uU(5),e.qZA(),e._uU(6," - "),e.TgZ(7,"span"),e._uU(8),e.qZA()(),e.TgZ(9,"mat-form-field",61)(10,"mat-label"),e._uU(11,"\u0110i\u1ec3m \u0110\u1ea1t \u0110\u01b0\u1ee3c"),e.qZA(),e.TgZ(12,"input",62),e.NdJ("ngModelChange",function(o){const h=e.CHM(t).index,l=e.oxw();return e.KtG(l.Chiendich.ListDiem[h]=o)})("input",function(o){const h=e.CHM(t).index,l=e.oxw();return e.KtG(l.CheckListDiem(h,o))}),e.qZA(),e.TgZ(13,"span",63),e._uU(14,"%"),e.qZA(),e.YNc(15,I,3,4,"mat-hint",64),e.qZA(),e.TgZ(16,"mat-form-field",61)(17,"mat-label"),e._uU(18,"Gi\xe1 Tr\u1ecb Qu\xe0"),e.qZA(),e.TgZ(19,"input",62),e.NdJ("ngModelChange",function(o){const h=e.CHM(t).index,l=e.oxw();return e.KtG(l.Chiendich.ListGiatriqua[h]=o)})("input",function(o){const h=e.CHM(t).index,l=e.oxw();return e.KtG(l.CheckListGiatriqua(h,o))}),e.qZA(),e.TgZ(20,"span",63),e._uU(21,"%"),e.qZA(),e.YNc(22,G,3,4,"mat-hint",64),e.qZA(),e._UZ(23,"hr"),e.qZA()}if(2&n){const t=a.$implicit,i=a.index,o=e.oxw();e.xp6(2),e.Oqu(t.capbac),e.xp6(3),e.hij("(",o.Chiendich.ListActive[i],"%)"),e.xp6(3),e.hij("(",o.Chiendich.ListMax[i],"%)"),e.xp6(4),e.Q6J("ngModel",o.Chiendich.ListDiem[i]),e.xp6(3),e.Q6J("ngIf",o.Chiendich.ListDiem[i]),e.xp6(4),e.Q6J("ngModel",o.Chiendich.ListGiatriqua[i]),e.xp6(3),e.Q6J("ngIf",o.Chiendich.ListGiatriqua[i])}}function k(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",67),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.CreateChiendich(o.Chiendich))}),e._uU(1,"Th\xeam"),e.qZA()}}function F(n,a){if(1&n&&(e.ynx(0),e.YNc(1,k,2,0,"button",66),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.Chiendich)}}function Y(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",70),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.UpdateChiendich(o.Chiendich))}),e._uU(1,"C\u1eadp Nh\u1eadt"),e.qZA()}}function B(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",71),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.DeleteChiendich(o.Chiendich))}),e._uU(1,"Xo\xe1"),e.qZA()}}function O(n,a){if(1&n&&(e.YNc(0,Y,2,0,"button",68),e.YNc(1,B,2,0,"button",69)),2&n){const t=e.oxw();e.Q6J("ngIf",t.Chiendich),e.xp6(1),e.Q6J("ngIf",t.Chiendich)}}function K(n,a){1&n&&(e.TgZ(0,"th",72),e._uU(1," T\xean Chi\u1ebfn D\u1ecbch"),e.qZA())}function j(n,a){if(1&n&&(e.TgZ(0,"td",73),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.TenCD," ")}}function V(n,a){1&n&&(e.TgZ(0,"th",72),e._uU(1," Doanh Thu"),e.qZA())}function P(n,a){if(1&n&&(e.TgZ(0,"td",73),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.DoanhThu,"1.0-2"),"\u0111")}}function $(n,a){1&n&&(e.TgZ(0,"th",72),e._uU(1," N\u1ed9i Dung"),e.qZA())}function R(n,a){if(1&n&&(e.TgZ(0,"td",73),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.Noidung,"")}}function W(n,a){1&n&&(e.TgZ(0,"th",72),e._uU(1," N\u1ed9i Dung"),e.qZA())}function z(n,a){if(1&n&&(e.TgZ(0,"td",73),e._uU(1),e.ALo(2,"date"),e.ALo(3,"date"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.AsE(" ",e.xi3(2,2,t.Deadline.Batdau,"dd/MM/yyyy")," - ",e.xi3(3,5,t.Deadline.Ketthuc,"dd/MM/yyyy"),"")}}function X(n,a){1&n&&e._UZ(0,"tr",74)}function ee(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr",75),e.NdJ("click",function(){const c=e.CHM(t).$implicit,h=e.oxw(),l=e.MAs(2);return h.Chiendich=c,e.KtG(l.open())}),e.qZA()}}function te(n,a){1&n&&(e.TgZ(0,"tr",76)(1,"td",77),e._uU(2,"No data matching the filter "),e.qZA()())}const ie=function(){return[5,10,25,100]};let ne=(()=>{class n{constructor(t,i,o,c){this._notifierService=t,this._hoahongService=i,this._chiendichService=o,this._sanphamService=c,this.displayedColumns=["TenCD","Noidung","Doanhthu","Deadline"],this.ListChiendich=[],this.Hoahongs=[],this.Chiendich={idSP:"",Soluong:"",Deadline:{Batdau:"",Ketthuc:""},ListDiem:[],ListGiatriqua:[],ListMax:[],ListActive:[]},this.ChiendichInit={},this.IsThemCD=!1,this.DiemMax=[],this.ListCapbac=[],this.Sanphams=[],this.filteredSanphams=[],this.Loai=[{id:1,Tieude:"S\u1ea3n Ph\u1ea9m"},{id:2,Tieude:"Doanh Thu"},{id:3,Tieude:"S\u1ed1 L\u01b0\u1ee3ng"},{id:4,Tieude:"S\u1ea3n Ph\u1ea9m v\xe0 S\u1ed1 L\u01b0\u1ee3ng"}],this.filterLoai=[{id:1,Tieude:"S\u1ea3n Ph\u1ea9m"},{id:2,Tieude:"Doanh Thu"},{id:3,Tieude:"S\u1ed1 L\u01b0\u1ee3ng"},{id:4,Tieude:"S\u1ea3n Ph\u1ea9m v\xe0 S\u1ed1 L\u01b0\u1ee3ng"}],this._chiendichService.getAll().subscribe(),this._hoahongService.getAll().subscribe(),this._sanphamService.getProduct().subscribe()}addNhiemvu(){this.Chiendich.Nhiemvus.push({})}onBlur(){}onValueChange(t){this.filteredSanphams=this.Sanphams.filter(i=>i.Tieude.toLowerCase().includes(t))}onLoaiChange(t){this.filterLoai=this.Loai.filter(i=>i.Tieude.toLowerCase().includes(t))}displayFn(t){return t&&t.Tieude?t.Tieude:""}ngOnInit(){this._sanphamService.products$.subscribe(t=>{t&&(this.filteredSanphams=this.Sanphams=t.map(i=>({id:i.id,Tieude:i.Tieude})))}),this._hoahongService.hoahongs$.subscribe(t=>{t&&(this.Hoahongs=t.sort((i,o)=>i.hhcanhan-o.hhcanhan),this.Hoahongs.forEach((i,o)=>{this.Chiendich.ListDiem[o]=0,this.Chiendich.ListGiatriqua[o]=0,this.Chiendich.ListMax[o]=this.Chiendich.ListActive[o]=35-i.hhcanhan-i.hhgioithieu}),this.ChiendichInit=this.Chiendich)}),this._chiendichService.chiendichs$.subscribe(t=>{t&&(this.ListChiendich=t,this.dataSource=new s.by(t),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort)})}FDemMax(t,i,o){return this.Chiendich.ListMax[t]=35-i-o,Number(this.Chiendich.ListMax[t])}CheckListDiem(t,i){this.Chiendich.ListMax[t]-this.Chiendich.ListDiem[t]-this.Chiendich.ListGiatriqua[t]<0?(this._notifierService.notify("error","V\u01b0\u1ee3t Gi\u1edbi H\u1ea1n"),this.Chiendich.ListDiem[t]=0,this.Chiendich.ListActive[t]=this.Chiendich.ListMax[t]-this.Chiendich.ListDiem[t]-this.Chiendich.ListGiatriqua[t]):this.Chiendich.ListActive[t]=this.Chiendich.ListMax[t]-this.Chiendich.ListDiem[t]-this.Chiendich.ListGiatriqua[t]}CheckListGiatriqua(t,i){this.Chiendich.ListMax[t]-this.Chiendich.ListDiem[t]-this.Chiendich.ListGiatriqua[t]<0?(this._notifierService.notify("error","V\u01b0\u1ee3t Gi\u1edbi H\u1ea1n"),this.Chiendich.ListGiatriqua[t]=0,this.Chiendich.ListActive[t]=this.Chiendich.ListMax[t]-this.Chiendich.ListDiem[t]-this.Chiendich.ListGiatriqua[t]):this.Chiendich.ListActive[t]=this.Chiendich.ListMax[t]-this.Chiendich.ListDiem[t]-this.Chiendich.ListGiatriqua[t]}CreateChiendich(t){this._chiendichService.Create(t).subscribe(i=>{this._notifierService.notify("success","Th\xeam M\u1edbi Th\xe0nh C\xf4ng"),this.Chiendich=this.ChiendichInit,this.dataSource=new s.by(this.ListChiendich),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}UpdateChiendich(t){this._chiendichService.Update(t).subscribe(),this.Chiendich=this.ChiendichInit,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}DeleteChiendich(t){this._chiendichService.Delete(t).subscribe(),this.Chiendich=this.ChiendichInit,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}checkEmptyObject(t){return 0==Object.keys(t).length}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(E.lG),e.Y36(v.M),e.Y36(L.E),e.Y36(S.D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["taza-base-chiendich"]],viewQuery:function(t,i){if(1&t&&(e.Gf(C.NW,5),e.Gf(g.YE,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.paginator=o.first),e.iGM(o=e.CRH())&&(i.sort=o.first)}},decls:96,vars:26,consts:[["autosize","",1,"example-container","w-full","h-full"],["mode","side","position","end",1,"!flex","flex-col","flex-auto","min-w-0","relative","h-full","lg:w-2/3","w-full"],["drawer",""],[1,"relative","flex","flex-col","h-full","w-full","overflow-auto"],[1,"material-icons","p-3","hover:bg-gray-200","rounded-full","absolute",3,"click"],[1,"flex","flex-col","w-full","space-y-2","bg-white","p-4"],[1,"text-center","font-bold","text-xl"],[1,"flex","flex-col","space-y-2","p-3","justify-between"],[1,"flex","flex-col","space-y-3"],[1,"flex","flex-row","space-x-2","justify-between"],["appearance","outline",1,"w-full"],["matInput","","placeholder","VD: V\xe0ng",3,"ngModel","ngModelChange"],["type","text","matInput","","placeholder","Ch\u1ecdn S\u1ea3n Ph\u1ea9m",3,"ngModel","matAutocomplete","ngModelChange"],[3,"displayWith","blur"],["autoLoai","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline"],[3,"rangePicker"],["matStartDate","","placeholder","B\u1eaft \u0110\u1ea7u",3,"ngModel","ngModelChange"],["matEndDate","","placeholder","K\u1ebft Th\xfac",3,"ngModel","ngModelChange"],["matSuffix","",3,"for"],["picker",""],["autoSP","matAutocomplete"],["appearance","outline",1,"w-20"],["matInput","","type","number","placeholder","VD: V\xe0ng",3,"ngModel","ngModelChange"],["appearance","outline",1,"w-40"],["class","ml-2 text-red-500",4,"ngIf"],["matInput","","placeholder","Placeholder",3,"ngModel","ngModelChange"],[1,"grid","grid-cols-7","gap-3"],["class","flex flex-col space-y-3 items-center justify-between",4,"ngFor","ngForOf"],[1,"flex","flex-row","space-x-2","justify-center"],[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"!flex","flex-col","flex-auto","min-w-0","relative","bg-white","!h-[100vh]"],[1,"relative","border-b-2","flex","flex-col"],[1,"flex","flex-row"],[1,"px-3"],[1,"flex","flex-row","space-x-3","py-3","items-center","min-h-[50px]","justify-between"],[1,"flex","rounded-md","border-2","border-slate-100","w-full"],["id","user","type","text","placeholder","T\xecm Ki\u1ebfm",1,"block","w-full","py-4","px-2","first-letter:w-full","bg-transparent","rounded-lg","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer",3,"keyup"],[1,"inline-flex","items-center","px-3"],[1,"material-icons"],["matTooltip","T\xf9y Ch\u1ec9nh",1,"material-icons","p-2","hover:bg-slate-200","rounded-lg"],["matTooltip","Upload File",1,"material-icons","p-2","hover:bg-slate-200","rounded-lg"],["matTooltip","T\u1ea1o m\u1edbi",1,"material-icons","p-2","hover:bg-slate-200","rounded-lg",3,"click"],[1,"mat-elevation-z8"],["mat-table","","matSort","",1,"w-full",3,"dataSource"],["matColumnDef","TenCD"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Doanhthu"],["matColumnDef","Noidung"],["matColumnDef","Deadline"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],[3,"value"],[1,"ml-2","text-red-500"],[1,"flex","flex-col","space-y-3","items-center","justify-between"],[1,"text-red-500"],["appearance","outline",1,"!w-full"],["matInput","","type","number","placeholder","Placeholder",3,"ngModel","ngModelChange","input"],["matSuffix",""],["class","text-blue-500",4,"ngIf"],[1,"text-blue-500"],["mat-raised-button","","color","basic","class","bg-blue-500 text-white hover:shadow-md",3,"click",4,"ngIf"],["mat-raised-button","","color","basic",1,"bg-blue-500","text-white","hover:shadow-md",3,"click"],["mat-raised-button","","class","bg-green-500 text-white hover:shadow-md","color","basic",3,"click",4,"ngIf"],["mat-raised-button","","class","bg-red-500 text-white hover:shadow-md","color","basic",3,"click",4,"ngIf"],["mat-raised-button","","color","basic",1,"bg-green-500","text-white","hover:shadow-md",3,"click"],["mat-raised-button","","color","basic",1,"bg-red-500","text-white","hover:shadow-md",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"click"],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer",1,2)(3,"div",3)(4,"span",4),e.NdJ("click",function(){e.CHM(o);const h=e.MAs(2);return e.KtG(h.toggle())}),e._uU(5," arrow_back "),e.qZA(),e.TgZ(6,"div",5)(7,"div",6),e._uU(8),e.qZA(),e.TgZ(9,"div",7)(10,"div",8)(11,"div",9)(12,"mat-form-field",10)(13,"mat-label"),e._uU(14,"T\xean Chi\u1ebfn D\u1ecbch"),e.qZA(),e.TgZ(15,"input",11),e.NdJ("ngModelChange",function(h){return i.Chiendich.TenCD=h}),e.qZA()(),e.TgZ(16,"mat-form-field",10)(17,"mat-label"),e._uU(18,"Lo\u1ea1i Chi\u1ebfn D\u1ecbch"),e.qZA(),e.TgZ(19,"input",12),e.NdJ("ngModelChange",function(h){return i.Chiendich.Loai=h})("ngModelChange",function(h){return i.onLoaiChange(h)}),e.qZA(),e.TgZ(20,"mat-autocomplete",13,14),e.NdJ("blur",function(){return i.onBlur()}),e.YNc(22,H,2,2,"mat-option",15),e.qZA()(),e.TgZ(23,"mat-form-field",16)(24,"mat-label"),e._uU(25,"Deadline"),e.qZA(),e.TgZ(26,"mat-date-range-input",17)(27,"input",18),e.NdJ("ngModelChange",function(h){return i.Chiendich.Deadline.Batdau=h}),e.qZA(),e.TgZ(28,"input",19),e.NdJ("ngModelChange",function(h){return i.Chiendich.Deadline.Ketthuc=h}),e.qZA()(),e._UZ(29,"mat-datepicker-toggle",20)(30,"mat-date-range-picker",null,21),e.qZA()(),e.TgZ(32,"div",9)(33,"mat-form-field",10)(34,"mat-label"),e._uU(35,"S\u1ea3n Ph\u1ea9m"),e.qZA(),e.TgZ(36,"input",12),e.NdJ("ngModelChange",function(h){return i.Chiendich.Sanpham=h})("ngModelChange",function(h){return i.onValueChange(h)}),e.qZA(),e.TgZ(37,"mat-autocomplete",13,22),e.NdJ("blur",function(){return i.onBlur()}),e.YNc(39,J,2,2,"mat-option",15),e.qZA()(),e.TgZ(40,"mat-form-field",23)(41,"mat-label"),e._uU(42,"S\u1ed1 L\u01b0\u1ee3ng"),e.qZA(),e.TgZ(43,"input",24),e.NdJ("ngModelChange",function(h){return i.Chiendich.Soluong=h}),e.qZA()(),e.TgZ(44,"mat-form-field",25)(45,"mat-label"),e._uU(46,"Doanh Thu"),e.qZA(),e.TgZ(47,"input",24),e.NdJ("ngModelChange",function(h){return i.Chiendich.DoanhThu=h}),e.qZA(),e.TgZ(48,"mat-hint"),e.YNc(49,U,3,4,"span",26),e.qZA()()(),e.TgZ(50,"mat-form-field",16)(51,"mat-label"),e._uU(52,"N\u1ed9i Dung Chi\u1ebfn D\u1ecbch"),e.qZA(),e.TgZ(53,"textarea",27),e.NdJ("ngModelChange",function(h){return i.Chiendich.Noidung=h}),e.qZA()()(),e.TgZ(54,"div",28),e.YNc(55,Q,24,7,"div",29),e.qZA()(),e.TgZ(56,"div",30),e.YNc(57,F,2,1,"ng-container",31),e.YNc(58,O,2,2,"ng-template",null,32,e.W1O),e.qZA()(),e._UZ(60,"router-outlet"),e.qZA()(),e.TgZ(61,"mat-drawer-content",33)(62,"div",34)(63,"div",35)(64,"div",36)(65,"div",37)(66,"div",38)(67,"input",39),e.NdJ("keyup",function(h){return i.applyFilter(h)}),e.qZA(),e.TgZ(68,"div",40)(69,"span",41),e._uU(70,"search"),e.qZA()()(),e.TgZ(71,"span",42),e._uU(72," tune "),e.qZA(),e.TgZ(73,"span",43),e._uU(74," file_upload "),e.qZA(),e.TgZ(75,"span",44),e.NdJ("click",function(){return e.CHM(o),e.MAs(2).open(),e.KtG(i.Chiendich=i.ChiendichInit)}),e._uU(76," add_circle "),e.qZA()()()()(),e.TgZ(77,"div",3)(78,"div",45)(79,"table",46),e.ynx(80,47),e.YNc(81,K,2,0,"th",48),e.YNc(82,j,2,1,"td",49),e.BQk(),e.ynx(83,50),e.YNc(84,V,2,0,"th",48),e.YNc(85,P,3,4,"td",49),e.BQk(),e.ynx(86,51),e.YNc(87,$,2,0,"th",48),e.YNc(88,R,2,1,"td",49),e.BQk(),e.ynx(89,52),e.YNc(90,W,2,0,"th",48),e.YNc(91,z,4,8,"td",49),e.BQk(),e.YNc(92,X,1,0,"tr",53),e.YNc(93,ee,1,0,"tr",54),e.YNc(94,te,3,0,"tr",55),e.qZA(),e._UZ(95,"mat-paginator",56),e.qZA()()()()}if(2&t){const o=e.MAs(21),c=e.MAs(31),h=e.MAs(38),l=e.MAs(59);e.xp6(8),e.Oqu(i.Chiendich.TenCD||"Th\xeam M\u1edbi"),e.xp6(7),e.Q6J("ngModel",i.Chiendich.TenCD),e.xp6(4),e.Q6J("ngModel",i.Chiendich.Loai)("matAutocomplete",o),e.xp6(1),e.Q6J("displayWith",i.displayFn),e.xp6(2),e.Q6J("ngForOf",i.filterLoai),e.xp6(4),e.Q6J("rangePicker",c),e.xp6(1),e.Q6J("ngModel",i.Chiendich.Deadline.Batdau),e.xp6(1),e.Q6J("ngModel",i.Chiendich.Deadline.Ketthuc),e.xp6(1),e.Q6J("for",c),e.xp6(7),e.Q6J("ngModel",i.Chiendich.Sanpham)("matAutocomplete",h),e.xp6(1),e.Q6J("displayWith",i.displayFn),e.xp6(2),e.Q6J("ngForOf",i.filteredSanphams),e.xp6(4),e.Q6J("ngModel",i.Chiendich.Soluong),e.xp6(4),e.Q6J("ngModel",i.Chiendich.DoanhThu),e.xp6(2),e.Q6J("ngIf",i.Chiendich.DoanhThu),e.xp6(4),e.Q6J("ngModel",i.Chiendich.Noidung),e.xp6(2),e.Q6J("ngForOf",i.Hoahongs),e.xp6(2),e.Q6J("ngIf",!i.Chiendich.id)("ngIfElse",l),e.xp6(22),e.Q6J("dataSource",i.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(25,ie))}},dependencies:[p.sg,p.O5,u.Fj,u.wV,u.JJ,u.On,T.XC,T.ZL,q.ey,Z.lW,m.nW,m.wx,m.zY,m.By,m._g,d.KE,d.bx,d.hX,d.R9,b.Nt,C.NW,f.jA,f.kh,f.LW,g.YE,g.nU,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,s.Ee,N.gM,_.lC,p.JJ,p.uU]}),n})();function oe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",39),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.CreateHoahong(o.Hoahong))}),e._uU(1,"Th\xeam"),e.qZA()}}function ae(n,a){if(1&n&&(e.ynx(0),e.YNc(1,oe,2,0,"button",38),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.Hoahong)}}function he(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.UpdateHoahong(o.Hoahong))}),e._uU(1,"C\u1eadp Nh\u1eadt"),e.qZA()}}function ce(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.DeleteHoahong(o.Hoahong))}),e._uU(1,"Xo\xe1"),e.qZA()}}function se(n,a){if(1&n&&(e.YNc(0,he,2,0,"button",40),e.YNc(1,ce,2,0,"button",41)),2&n){const t=e.oxw();e.Q6J("ngIf",t.Hoahong),e.xp6(1),e.Q6J("ngIf",t.Hoahong)}}function re(n,a){1&n&&(e.TgZ(0,"th",44),e._uU(1," C\u1ea5p B\u1eadc "),e.qZA())}function le(n,a){if(1&n&&(e.TgZ(0,"td",45),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.capbac," ")}}function ue(n,a){1&n&&(e.TgZ(0,"th",44),e._uU(1," Doanh Thu"),e.qZA())}function de(n,a){if(1&n&&(e.TgZ(0,"td",45),e._uU(1),e.ALo(2,"number"),e.ALo(3,"number"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.AsE(" ",e.xi3(2,2,t.doanhthutu,"1.0-2"),"\u0111 - ",e.xi3(3,5,t.doanhthuden,"1.0-2"),"\u0111 ")}}function pe(n,a){1&n&&(e.TgZ(0,"th",44),e._uU(1," Hoa H\u1ed3ng C\xe1 Nh\xe2n "),e.qZA())}function me(n,a){if(1&n&&(e.TgZ(0,"td",45),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.hhcanhan,"% ")}}function ge(n,a){1&n&&(e.TgZ(0,"th",44),e._uU(1," Hoa H\u1ed3ng Gi\u1edbi Thi\u1ec7u "),e.qZA())}function _e(n,a){if(1&n&&(e.TgZ(0,"td",45),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.hhgioithieu,"% ")}}function Ce(n,a){1&n&&e._UZ(0,"tr",46)}function fe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr",47),e.NdJ("click",function(){const c=e.CHM(t).$implicit,h=e.oxw(),l=e.MAs(2);return h.Hoahong=c,h.IsThemHH=!1,e.KtG(l.open())}),e.qZA()}}function xe(n,a){1&n&&(e.TgZ(0,"tr",48)(1,"td",49),e._uU(2,"No data matching the filter "),e.qZA()())}const Te=function(){return[5,10,25,100]};let Ze=(()=>{class n{constructor(t){this._hoahongService=t,this.displayedColumns=["capbac","doanhthu","hhcanhan","hhgioithieu"],this.Hoahongs=[],this.Hoahong={},this.IsThemHH=!0,this._hoahongService.getAll().subscribe()}ngOnInit(){this._hoahongService.hoahongs$.subscribe(t=>{t&&(this.Hoahongs=t.sort((i,o)=>i.hhcanhan-o.hhcanhan),this.dataSource=new s.by(this.Hoahongs),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort)}),this._hoahongService.hoahong$.subscribe(t=>{t&&(this.Hoahong=t)})}CreateHoahong(t){this._hoahongService.Create(t).subscribe(),this.dataSource=new s.by(this.Hoahongs),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.IsThemHH=!0}UpdateHoahong(t){this._hoahongService.Update(t).subscribe(),this.dataSource=new s.by(this.Hoahongs),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.IsThemHH=!0}DeleteHoahong(t){this._hoahongService.Delete(t).subscribe(),this.dataSource=new s.by(this.Hoahongs),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.IsThemHH=!0}checkEmptyObject(t){return 0==Object.keys(t).length}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v.M))},n.\u0275cmp=e.Xpm({type:n,selectors:[["taza-base-hoahong"]],viewQuery:function(t,i){if(1&t&&(e.Gf(C.NW,5),e.Gf(g.YE,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.paginator=o.first),e.iGM(o=e.CRH())&&(i.sort=o.first)}},decls:78,vars:20,consts:[["autosize","",1,"example-container","w-full","h-full"],["mode","side","position","end",1,"!flex","flex-col","flex-auto","min-w-0","relative","h-full","lg:w-2/3","w-full"],["drawer",""],[1,"relative","flex","flex-col","h-full","w-full","overflow-auto"],[1,"material-icons","p-3","hover:bg-gray-200","rounded-full",3,"click"],[1,"flex","flex-col","p-3","w-full"],["appearance","outline"],["matInput","","placeholder","VD: V\xe0ng",3,"ngModel","ngModelChange"],["matInput","","type","number","placeholder","Placeholder",3,"ngModel","ngModelChange"],[1,"text-red-500"],["matSuffix",""],[1,"flex","flex-row","space-x-2","justify-center"],[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"!flex","flex-col","flex-auto","min-w-0","relative","bg-white","!h-[80vh]"],[1,"relative","border-b-2","flex","flex-col"],[1,"flex","flex-row"],[1,"px-3"],[1,"flex","flex-row","space-x-3","py-3","items-center","min-h-[50px]","justify-between"],[1,"flex","rounded-md","border-2","border-slate-100","w-full"],["id","user","type","text","placeholder","T\xecm Ki\u1ebfm",1,"block","w-full","py-4","px-2","first-letter:w-full","bg-transparent","rounded-lg","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer",3,"keyup"],[1,"inline-flex","items-center","px-3"],[1,"material-icons"],["matTooltip","T\xf9y Ch\u1ec9nh",1,"material-icons","p-2","hover:bg-slate-200","rounded-lg"],["matTooltip","Upload File",1,"material-icons","p-2","hover:bg-slate-200","rounded-lg"],["matTooltip","T\u1ea1o m\u1edbi",1,"material-icons","p-2","hover:bg-slate-200","rounded-lg",3,"click"],[1,"mat-elevation-z8"],["mat-table","","matSort","",1,"w-full","h-full",3,"dataSource"],["matColumnDef","capbac"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","doanhthu"],["matColumnDef","hhcanhan"],["matColumnDef","hhgioithieu"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["pageSize","10",3,"pageSizeOptions"],["mat-raised-button","","color","basic","class","bg-blue-500 text-white hover:shadow-md",3,"click",4,"ngIf"],["mat-raised-button","","color","basic",1,"bg-blue-500","text-white","hover:shadow-md",3,"click"],["mat-raised-button","","class","bg-green-500 text-white hover:shadow-md","color","basic",3,"click",4,"ngIf"],["mat-raised-button","","class","bg-red-500 text-white hover:shadow-md","color","basic",3,"click",4,"ngIf"],["mat-raised-button","","color","basic",1,"bg-green-500","text-white","hover:shadow-md",3,"click"],["mat-raised-button","","color","basic",1,"bg-red-500","text-white","hover:shadow-md",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"click"],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer",1,2)(3,"div",3)(4,"div")(5,"span",4),e.NdJ("click",function(){e.CHM(o);const h=e.MAs(2);return i.IsThemHH=!0,e.KtG(h.close())}),e._uU(6," arrow_back "),e.qZA(),e.TgZ(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),e._uU(10,"C\u1ea5p B\u1eadc"),e.qZA(),e.TgZ(11,"input",7),e.NdJ("ngModelChange",function(h){return i.Hoahong.capbac=h}),e.qZA()(),e.TgZ(12,"mat-form-field",6)(13,"mat-label"),e._uU(14,"Doanh Thu T\u1eeb"),e.qZA(),e.TgZ(15,"input",8),e.NdJ("ngModelChange",function(h){return i.Hoahong.doanhthutu=h}),e.qZA(),e.TgZ(16,"mat-hint",9),e._uU(17),e.ALo(18,"number"),e.qZA()(),e.TgZ(19,"mat-form-field",6)(20,"mat-label"),e._uU(21,"Doanh Thu \u0110\u1ebfn"),e.qZA(),e.TgZ(22,"input",8),e.NdJ("ngModelChange",function(h){return i.Hoahong.doanhthuden=h}),e.qZA(),e.TgZ(23,"mat-hint",9),e._uU(24),e.ALo(25,"number"),e.qZA()(),e.TgZ(26,"mat-form-field",6)(27,"mat-label"),e._uU(28,"Hoa H\u1ed3ng C\xe1 Nh\xe2n"),e.qZA(),e.TgZ(29,"input",8),e.NdJ("ngModelChange",function(h){return i.Hoahong.hhcanhan=h}),e.qZA(),e.TgZ(30,"span",10),e._uU(31,"%"),e.qZA()(),e.TgZ(32,"mat-form-field",6)(33,"mat-label"),e._uU(34,"Hoa H\u1ed3ng Gi\u1edbi Thi\u1ec7u"),e.qZA(),e.TgZ(35,"input",8),e.NdJ("ngModelChange",function(h){return i.Hoahong.hhgioithieu=h}),e.qZA(),e.TgZ(36,"span",10),e._uU(37,"%"),e.qZA()(),e.TgZ(38,"div",11),e.YNc(39,ae,2,1,"ng-container",12),e.YNc(40,se,2,2,"ng-template",null,13,e.W1O),e.qZA()()(),e._UZ(42,"router-outlet"),e.qZA()(),e.TgZ(43,"mat-drawer-content",14)(44,"div",15)(45,"div",16)(46,"div",17)(47,"div",18)(48,"div",19)(49,"input",20),e.NdJ("keyup",function(h){return i.applyFilter(h)}),e.qZA(),e.TgZ(50,"div",21)(51,"span",22),e._uU(52,"search"),e.qZA()()(),e.TgZ(53,"span",23),e._uU(54," tune "),e.qZA(),e.TgZ(55,"span",24),e._uU(56," file_upload "),e.qZA(),e.TgZ(57,"span",25),e.NdJ("click",function(){return e.CHM(o),e.MAs(2).open(),e.KtG(i.Hoahong={})}),e._uU(58," add_circle "),e.qZA()()()()(),e.TgZ(59,"div",3)(60,"div",26)(61,"table",27),e.ynx(62,28),e.YNc(63,re,2,0,"th",29),e.YNc(64,le,2,1,"td",30),e.BQk(),e.ynx(65,31),e.YNc(66,ue,2,0,"th",29),e.YNc(67,de,4,8,"td",30),e.BQk(),e.ynx(68,32),e.YNc(69,pe,2,0,"th",29),e.YNc(70,me,2,1,"td",30),e.BQk(),e.ynx(71,33),e.YNc(72,ge,2,0,"th",29),e.YNc(73,_e,2,1,"td",30),e.BQk(),e.YNc(74,Ce,1,0,"tr",34),e.YNc(75,fe,1,0,"tr",35),e.YNc(76,xe,3,0,"tr",36),e.qZA(),e._UZ(77,"mat-paginator",37),e.qZA()()()()}if(2&t){const o=e.MAs(41);e.xp6(11),e.Q6J("ngModel",i.Hoahong.capbac),e.xp6(4),e.Q6J("ngModel",i.Hoahong.doanhthutu),e.xp6(2),e.hij(" ",e.xi3(18,13,i.Hoahong.doanhthutu,"1.0-2"),"\u0111"),e.xp6(5),e.Q6J("ngModel",i.Hoahong.doanhthuden),e.xp6(2),e.hij(" ",e.xi3(25,16,i.Hoahong.doanhthuden,"1.0-2"),"\u0111"),e.xp6(5),e.Q6J("ngModel",i.Hoahong.hhcanhan),e.xp6(6),e.Q6J("ngModel",i.Hoahong.hhgioithieu),e.xp6(4),e.Q6J("ngIf",1==i.IsThemHH)("ngIfElse",o),e.xp6(22),e.Q6J("dataSource",i.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(19,Te))}},dependencies:[p.O5,u.Fj,u.wV,u.JJ,u.On,Z.lW,d.KE,d.bx,d.hX,d.R9,b.Nt,C.NW,f.jA,f.kh,f.LW,g.YE,g.nU,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,s.Ee,N.gM,_.lC,p.JJ]}),n})(),be=(()=>{class n{constructor(t){this._LocalStorageService=t,this.displayedColumns=["capbac","doanhthu","hhcanhan","hhgioithieu"],this.Cauhinh={};const i=t.getItem("ListCauhinh");this.ListCauhinh=null!=i?JSON.parse(i):D}ngOnInit(){this.dataSource=new s.by(this.ListCauhinh)}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}AddCauhinh(t){this.ListCauhinh.push(t),this.Cauhinh={},this._LocalStorageService.setItem("ListCauhinh",JSON.stringify(this.ListCauhinh)),this.dataSource=new s.by(this.ListCauhinh)}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(A.n))},n.\u0275cmp=e.Xpm({type:n,selectors:[["taza-base-nhiemvu"]],viewQuery:function(t,i){if(1&t&&(e.Gf(C.NW,5),e.Gf(g.YE,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.paginator=o.first),e.iGM(o=e.CRH())&&(i.sort=o.first)}},decls:0,vars:0,template:function(t,i){}}),n})();var Ae=r(9363);let ve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["taza-base-doiqua"]],decls:2,vars:0,template:function(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1,"doiqua works!"),e.qZA())}}),n})();function Me(n,a){if(1&n&&(e.TgZ(0,"span",20),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("",e.xi3(2,1,t.Chiendich.DoanhThu,"1.0-2"),"\u0111")}}function we(n,a){if(1&n&&(e.TgZ(0,"mat-option",30),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.Tieude," ")}}function De(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",4)(1,"mat-form-field",5)(2,"mat-label"),e._uU(3,"S\u1ea3n Ph\u1ea9m"),e.qZA(),e.TgZ(4,"input",21),e.NdJ("ngModelChange",function(o){const h=e.CHM(t).$implicit;return e.KtG(h.Sanpham=o)})("ngModelChange",function(o){e.CHM(t);const c=e.oxw();return e.KtG(c.onValueChange(o))}),e.qZA(),e.TgZ(5,"mat-autocomplete",22,23),e.NdJ("blur",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onBlur())}),e.YNc(7,we,2,2,"mat-option",24),e.qZA()(),e.TgZ(8,"mat-form-field",5)(9,"mat-label"),e._uU(10,"S\u1ed1 L\u01b0\u1ee3ng"),e.qZA(),e.TgZ(11,"input",7),e.NdJ("ngModelChange",function(o){const h=e.CHM(t).$implicit;return e.KtG(h.Soluong=o)}),e.qZA()(),e.TgZ(12,"mat-form-field",13)(13,"mat-label"),e._uU(14,"Deadline"),e.qZA(),e.TgZ(15,"mat-date-range-input",25)(16,"input",26),e.NdJ("ngModelChange",function(o){const h=e.CHM(t).$implicit;return e.KtG(h.Batdau=o)}),e.qZA(),e.TgZ(17,"input",27),e.NdJ("ngModelChange",function(o){const h=e.CHM(t).$implicit;return e.KtG(h.Ketthuc=o)}),e.qZA()(),e._UZ(18,"mat-datepicker-toggle",28)(19,"mat-date-range-picker",null,29),e.qZA()()}if(2&n){const t=a.$implicit,i=e.MAs(6),o=e.MAs(20),c=e.oxw();e.xp6(4),e.Q6J("ngModel",t.Sanpham)("matAutocomplete",i),e.xp6(1),e.Q6J("displayWith",c.displayFn),e.xp6(2),e.Q6J("ngForOf",c.filteredSanphams),e.xp6(4),e.Q6J("ngModel",t.Soluong),e.xp6(4),e.Q6J("rangePicker",o),e.xp6(1),e.Q6J("ngModel",t.Batdau),e.xp6(1),e.Q6J("ngModel",t.Ketthuc),e.xp6(1),e.Q6J("for",o)}}function Le(n,a){if(1&n&&(e.TgZ(0,"mat-hint",36),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw().index,i=e.oxw();e.xp6(1),e.hij("",e.xi3(2,1,i.Chiendich.DoanhThu*i.Chiendich.ListDiem[t]/100,"1.0-2"),"\u0111")}}function Se(n,a){if(1&n&&(e.TgZ(0,"mat-hint",36),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw().index,i=e.oxw();e.xp6(1),e.hij("",e.xi3(2,1,i.Chiendich.DoanhThu*i.Chiendich.ListGiatriqua[t]/100,"1.0-2"),"\u0111")}}function Ee(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"div"),e._uU(2),e.TgZ(3,"span",32),e._uU(4),e.qZA()(),e.TgZ(5,"mat-form-field",13)(6,"mat-label"),e._uU(7,"\u0110i\u1ec3m \u0110\u1ea1t \u0110\u01b0\u1ee3c"),e.qZA(),e.TgZ(8,"input",33),e.NdJ("ngModelChange",function(o){const h=e.CHM(t).index,l=e.oxw();return e.KtG(l.Chiendich.ListDiem[h]=o)})("input",function(o){const h=e.CHM(t).index,l=e.oxw();return e.KtG(l.CheckListDiem(h,o))}),e.qZA(),e.TgZ(9,"span",34),e._uU(10,"%"),e.qZA(),e.YNc(11,Le,3,4,"mat-hint",35),e.qZA(),e.TgZ(12,"mat-form-field",13)(13,"mat-label"),e._uU(14,"Gi\xe1 Tr\u1ecb Qu\xe0"),e.qZA(),e.TgZ(15,"input",33),e.NdJ("ngModelChange",function(o){const h=e.CHM(t).index,l=e.oxw();return e.KtG(l.Chiendich.ListGiatriqua[h]=o)})("input",function(o){const h=e.CHM(t).index,l=e.oxw();return e.KtG(l.CheckListGiatriqua(h,o))}),e.qZA(),e.TgZ(16,"span",34),e._uU(17,"%"),e.qZA(),e.YNc(18,Se,3,4,"mat-hint",35),e.qZA(),e._UZ(19,"hr"),e.qZA()}if(2&n){const t=a.$implicit,i=a.index,o=e.oxw();e.xp6(2),e.AsE("",t.capbac," (",o.Chiendich.ListMax[i],"%) - "),e.xp6(2),e.hij("(",o.Chiendich.ListActive[i],"%)"),e.xp6(4),e.Q6J("ngModel",o.Chiendich.ListDiem[i]),e.xp6(3),e.Q6J("ngIf",o.Chiendich.ListDiem[i]),e.xp6(4),e.Q6J("ngModel",o.Chiendich.ListGiatriqua[i]),e.xp6(3),e.Q6J("ngIf",o.Chiendich.ListGiatriqua[i])}}function qe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.CreateChiendich(o.Chiendich))}),e._uU(1,"Th\xeam"),e.qZA()}}function Ne(n,a){if(1&n&&(e.ynx(0),e.YNc(1,qe,2,0,"button",37),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.Chiendich)}}function ye(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.UpdateChiendich(o.Chiendich))}),e._uU(1,"C\u1eadp Nh\u1eadt"),e.qZA()}}function He(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.DeleteChiendich(o.Chiendich))}),e._uU(1,"Xo\xe1"),e.qZA()}}function Je(n,a){if(1&n&&(e.YNc(0,ye,2,0,"button",39),e.YNc(1,He,2,0,"button",40)),2&n){const t=e.oxw();e.Q6J("ngIf",t.Chiendich),e.xp6(1),e.Q6J("ngIf",t.Chiendich)}}let Ue=(()=>{class n{constructor(t,i,o,c){this._notifierService=t,this._hoahongService=i,this._chiendichService=o,this._sanphamService=c,this.displayedColumns=["TenCD","Doanhthu","Noidung","Diem","Giatriqua"],this.ListChiendich=[],this.Hoahongs=[],this.Chiendich={Nhiemvus:[{idSP:"",Soluong:"",Deadline:""}],ListDiem:[],ListGiatriqua:[],ListMax:[],ListActive:[]},this.ChiendichInit={},this.IsThemCD=!1,this.DiemMax=[],this.ListCapbac=[],this.Sanphams=[],this.filteredSanphams=[],this._chiendichService.getAll().subscribe(),this._hoahongService.getAll().subscribe(),this._sanphamService.getProduct().subscribe()}addNhiemvu(){this.Chiendich.Nhiemvus.push({})}onBlur(){}onValueChange(t){this.filteredSanphams=this.Sanphams.filter(i=>i.Tieude.toLowerCase().includes(t))}displayFn(t){return t&&t.Tieude?t.Tieude:""}ngOnInit(){this._sanphamService.products$.subscribe(t=>{t&&(this.filteredSanphams=this.Sanphams=t.map(i=>({id:i.id,Tieude:i.Tieude})))}),this._hoahongService.hoahongs$.subscribe(t=>{t&&(this.Hoahongs=t.sort((i,o)=>i.hhcanhan-o.hhcanhan),this.Hoahongs.forEach((i,o)=>{this.Chiendich.ListDiem[o]=0,this.Chiendich.ListGiatriqua[o]=0,this.Chiendich.ListMax[o]=this.Chiendich.ListActive[o]=35-i.hhcanhan-i.hhgioithieu}),this.ChiendichInit=this.Chiendich)}),this._chiendichService.chiendichs$.subscribe(t=>{t&&(this.ListChiendich=t,this.dataSource=new s.by(t),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort)})}FDemMax(t,i,o){return this.Chiendich.ListMax[t]=35-i-o,Number(this.Chiendich.ListMax[t])}CheckListDiem(t,i){this.Chiendich.ListMax[t]-this.Chiendich.ListDiem[t]-this.Chiendich.ListGiatriqua[t]<0?(this._notifierService.notify("error","V\u01b0\u1ee3t Gi\u1edbi H\u1ea1n"),this.Chiendich.ListDiem[t]=0,this.Chiendich.ListActive[t]=this.Chiendich.ListMax[t]-this.Chiendich.ListDiem[t]-this.Chiendich.ListGiatriqua[t]):this.Chiendich.ListActive[t]=this.Chiendich.ListMax[t]-this.Chiendich.ListDiem[t]-this.Chiendich.ListGiatriqua[t]}CheckListGiatriqua(t,i){this.Chiendich.ListMax[t]-this.Chiendich.ListDiem[t]-this.Chiendich.ListGiatriqua[t]<0?(this._notifierService.notify("error","V\u01b0\u1ee3t Gi\u1edbi H\u1ea1n"),this.Chiendich.ListGiatriqua[t]=0,this.Chiendich.ListActive[t]=this.Chiendich.ListMax[t]-this.Chiendich.ListDiem[t]-this.Chiendich.ListGiatriqua[t]):this.Chiendich.ListActive[t]=this.Chiendich.ListMax[t]-this.Chiendich.ListDiem[t]-this.Chiendich.ListGiatriqua[t]}CreateChiendich(t){this._chiendichService.Create(t).subscribe(i=>{this._notifierService.notify("success","Th\xeam M\u1edbi Th\xe0nh C\xf4ng"),this.Chiendich=this.ChiendichInit}),this.dataSource=new s.by(this.ListChiendich),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}UpdateChiendich(t){this._chiendichService.Update(t).subscribe(),this.Chiendich=this.ChiendichInit,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}DeleteChiendich(t){this._chiendichService.Delete(t).subscribe(),this.Chiendich=this.ChiendichInit,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}checkEmptyObject(t){return 0==Object.keys(t).length}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(E.lG),e.Y36(v.M),e.Y36(L.E),e.Y36(S.D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-chiendich-chitiet"]],viewQuery:function(t,i){if(1&t&&(e.Gf(C.NW,5),e.Gf(g.YE,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.paginator=o.first),e.iGM(o=e.CRH())&&(i.sort=o.first)}},decls:31,vars:9,consts:[[1,"flex","flex-col","space-y-2","bg-white","p-4"],[1,"text-center","font-bold","text-xl"],[1,"flex","flex-col","space-y-2","p-3","justify-between"],[1,"flex","flex-col","space-y-3"],[1,"flex","flex-row","space-x-2","justify-between"],["appearance","outline",1,"w-full"],["matInput","","placeholder","VD: V\xe0ng",3,"ngModel","ngModelChange"],["matInput","","type","number","placeholder","VD: V\xe0ng",3,"ngModel","ngModelChange"],["matSuffix","","class","ml-2 text-blue-500",4,"ngIf"],["class","flex flex-row space-x-2 justify-between",4,"ngFor","ngForOf"],[1,"flex","justify-center"],["mat-raised-button","",1,"bg-blue-500","text-white",3,"click"],[1,"material-icons"],["appearance","outline"],["matInput","","placeholder","Placeholder",3,"ngModel","ngModelChange"],[1,"flex","flex-col","space-y-2"],["class","flex md:flex-row md:space-x-2 flex-col space-y-2  items-center justify-between",4,"ngFor","ngForOf"],[1,"flex","flex-row","space-x-2","justify-center"],[4,"ngIf","ngIfElse"],["elseTemplate",""],["matSuffix","",1,"ml-2","text-blue-500"],["type","text","matInput","","placeholder","Ch\u1ecdn S\u1ea3n Ph\u1ea9m",3,"ngModel","matAutocomplete","ngModelChange"],[3,"displayWith","blur"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"rangePicker"],["matStartDate","","placeholder","B\u1eaft \u0110\u1ea7u",3,"ngModel","ngModelChange"],["matEndDate","","placeholder","K\u1ebft Th\xfac",3,"ngModel","ngModelChange"],["matSuffix","",3,"for"],["picker",""],[3,"value"],[1,"flex","md:flex-row","md:space-x-2","flex-col","space-y-2","items-center","justify-between"],[1,"text-red-500"],["matInput","","type","number","placeholder","Placeholder",3,"ngModel","ngModelChange","input"],["matSuffix",""],["class","text-blue-500",4,"ngIf"],[1,"text-blue-500"],["mat-raised-button","","color","basic","class","bg-blue-500 text-white hover:shadow-md",3,"click",4,"ngIf"],["mat-raised-button","","color","basic",1,"bg-blue-500","text-white","hover:shadow-md",3,"click"],["mat-raised-button","","class","bg-green-500 text-white hover:shadow-md","color","basic",3,"click",4,"ngIf"],["mat-raised-button","","class","bg-red-500 text-white hover:shadow-md","color","basic",3,"click",4,"ngIf"],["mat-raised-button","","color","basic",1,"bg-green-500","text-white","hover:shadow-md",3,"click"],["mat-raised-button","","color","basic",1,"bg-red-500","text-white","hover:shadow-md",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),e._uU(8,"T\xean Chi\u1ebfn D\u1ecbch"),e.qZA(),e.TgZ(9,"input",6),e.NdJ("ngModelChange",function(c){return i.Chiendich.TenCD=c}),e.qZA()(),e.TgZ(10,"mat-form-field",5)(11,"mat-label"),e._uU(12,"Doanh Thu"),e.qZA(),e.TgZ(13,"input",7),e.NdJ("ngModelChange",function(c){return i.Chiendich.DoanhThu=c}),e.qZA(),e.YNc(14,Me,3,4,"span",8),e.qZA()(),e.YNc(15,De,21,9,"div",9),e.TgZ(16,"div",10)(17,"button",11),e.NdJ("click",function(){return i.addNhiemvu()}),e.TgZ(18,"span",12),e._uU(19," add_circle "),e.qZA(),e._uU(20," Th\xeam Nhi\u1ec7m V\u1ee5"),e.qZA()(),e.TgZ(21,"mat-form-field",13)(22,"mat-label"),e._uU(23,"N\u1ed9i Dung Chi\u1ebfn D\u1ecbch"),e.qZA(),e.TgZ(24,"textarea",14),e.NdJ("ngModelChange",function(c){return i.Chiendich.Noidung=c}),e.qZA()()(),e.TgZ(25,"div",15),e.YNc(26,Ee,20,7,"div",16),e.qZA()(),e.TgZ(27,"div",17),e.YNc(28,Ne,2,1,"ng-container",18),e.YNc(29,Je,2,2,"ng-template",null,19,e.W1O),e.qZA()()),2&t){const o=e.MAs(30);e.xp6(2),e.Oqu(i.Chiendich.TenCD||"Th\xeam M\u1edbi"),e.xp6(7),e.Q6J("ngModel",i.Chiendich.TenCD),e.xp6(4),e.Q6J("ngModel",i.Chiendich.DoanhThu),e.xp6(1),e.Q6J("ngIf",i.Chiendich.DoanhThu),e.xp6(1),e.Q6J("ngForOf",i.Chiendich.Nhiemvus),e.xp6(9),e.Q6J("ngModel",i.Chiendich.Noidung),e.xp6(2),e.Q6J("ngForOf",i.Hoahongs),e.xp6(2),e.Q6J("ngIf",!i.Chiendich.id)("ngIfElse",o)}},dependencies:[p.sg,p.O5,u.Fj,u.wV,u.JJ,u.On,T.XC,T.ZL,q.ey,Z.lW,m.nW,m.wx,m.zY,m.By,m._g,d.KE,d.bx,d.hX,d.R9,b.Nt,p.JJ]}),n})();var Ie=r(6421),Ge=r(9809),Qe=r(529);function ke(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",6)(2,"span",7),e._uU(3,"\u0110\xe3 K\u1ebft N\u1ed1i"),e.qZA(),e.TgZ(4,"span",8),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.Disconect())}),e._uU(5," power_settings_new "),e.qZA()(),e.BQk()}}const x=function(){return{standalone:!0}};function Fe(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",10)(2,"mat-form-field",11)(3,"mat-label"),e._uU(4,"\u0110\u01b0\u1eddng Link"),e.qZA(),e.TgZ(5,"input",12),e.NdJ("ngModelChange",function(o){e.CHM(t);const c=e.oxw(2);return e.KtG(c.apifield.url=o)}),e.qZA()()(),e.TgZ(6,"div",10)(7,"mat-form-field",11)(8,"mat-label"),e._uU(9,"Version"),e.qZA(),e.TgZ(10,"input",13),e.NdJ("ngModelChange",function(o){e.CHM(t);const c=e.oxw(2);return e.KtG(c.apifield.version=o)}),e.qZA()()(),e.TgZ(11,"div",10)(12,"mat-form-field",11)(13,"mat-label"),e._uU(14,"App ID"),e.qZA(),e.TgZ(15,"input",14),e.NdJ("ngModelChange",function(o){e.CHM(t);const c=e.oxw(2);return e.KtG(c.apifield.appId=o)}),e.qZA()()(),e.TgZ(16,"div",10)(17,"mat-form-field",11)(18,"mat-label"),e._uU(19,"Access Code"),e.qZA(),e.TgZ(20,"input",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const c=e.oxw(2);return e.KtG(c.apifield.accessCode=o)}),e.qZA()()(),e.TgZ(21,"div",10)(22,"mat-form-field",11)(23,"mat-label"),e._uU(24,"Secret Key"),e.qZA(),e.TgZ(25,"input",16),e.NdJ("ngModelChange",function(o){e.CHM(t);const c=e.oxw(2);return e.KtG(c.apifield.secretKey=o)}),e.qZA()()(),e.TgZ(26,"button",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.getToken(o.apifield))}),e._uU(27,"K\u1ebft N\u1ed1i"),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(5),e.Q6J("ngModel",t.apifield.url)("ngModelOptions",e.DdM(11,x)),e.xp6(5),e.Q6J("ngModel",t.apifield.version)("ngModelOptions",e.DdM(12,x)),e.xp6(5),e.Q6J("ngModel",t.apifield.appId)("ngModelOptions",e.DdM(13,x)),e.xp6(5),e.Q6J("ngModel",t.apifield.accessCode)("ngModelOptions",e.DdM(14,x)),e.xp6(5),e.Q6J("ngModel",t.apifield.secretKey)("ngModelOptions",e.DdM(15,x)),e.xp6(1),e.Q6J("color","primary")}}function Ye(n,a){if(1&n&&(e.TgZ(0,"a",18),e._uU(1,"Ch\u01b0a K\u1ebft N\u1ed1i"),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("href",t.apifield.oauth,e.LSH)}}function Be(n,a){if(1&n&&(e.YNc(0,Fe,28,16,"ng-container",3),e.YNc(1,Ye,2,1,"ng-template",null,9,e.W1O)),2&n){const t=e.MAs(2),i=e.oxw();e.Q6J("ngIf",i.accessCode)("ngIfElse",t)}}let Oe=(()=>{class n{constructor(t,i,o,c,h,l){this._router=t,this.http=i,this.route=o,this._ApinhanhService=c,this._CauhinhchungService=h,this._LocalStorageService=l,this.nhanhApi=this._LocalStorageService.getItem("nhanhApi")||null,this.apifield={oauth:"",url:"",version:"2.0",appId:"",accessCode:"",secretKey:""},this.MenuDashboard=[{id:1,Tieude:"B\xe0i Vi\u1ebft",Link:"baiviet",Image:"",Icon:"article"},{id:2,Tieude:"S\u1ea3n Ph\u1ea9m",Link:"sanpham",Image:"",Icon:""},{id:3,Tieude:"\u0110\u01a1n H\xe0ng",Link:"donhang",Image:"",Icon:""},{id:4,Tieude:"Comment",Link:"comment",Image:"",Icon:""}]}ngOnInit(){this._CauhinhchungService.getAll().subscribe(t=>{const i=t.find(o=>"api-nhanh"==o.Slug);i&&(this.apifield=JSON.parse(i.Content))}),this.accessCode=this.route.snapshot.queryParams.accessCode,this.apifield.accessCode=this.accessCode}getToken(t){this._ApinhanhService.getToken(t).subscribe(i=>{this._router.navigate(["admin"]),location.reload()})}Disconect(){this._LocalStorageService.removeItem("nhanhApi"),this._router.navigate(["admin"]),location.reload()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.F0),e.Y36(Qe.eN),e.Y36(_.gz),e.Y36(Ie.v),e.Y36(Ge.f),e.Y36(A.n))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-cauhinhapi"]],decls:10,vars:2,consts:[[1,"flex","flex-col","w-full"],[1,"w-full","rounded-lg","flex","flex-row","space-x-2","p-2"],[1,"p-4","rounded-md","bg-white","shadow-md","flex","flex-col","space-y-2"],[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"p-4","rounded-md","bg-white","shadow-md"],[1,"flex","flex-row","space-x-2"],[1,"text-blue-500"],[1,"material-icons","text-red-500",3,"click"],["elseTemplate1",""],[1,"flex","flex-col","space-y-2","text-sm"],["appearance","outline"],["matInput","","placeholder","VD: https://nhanh.vn/oauth/access_token",3,"ngModel","ngModelOptions","ngModelChange"],["matInput","","placeholder","VD: 2.0",3,"ngModel","ngModelOptions","ngModelChange"],["matInput","","placeholder","App ID",3,"ngModel","ngModelOptions","ngModelChange"],["matInput","","placeholder","Access Code",3,"ngModel","ngModelOptions","ngModelChange"],["matInput","","placeholder","Secret Key",3,"ngModel","ngModelOptions","ngModelChange"],["mat-stroked-button","",3,"color","click"],[1,"text-red-500",3,"href"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span"),e._uU(4," API Nhanh.vn"),e.qZA(),e.YNc(5,ke,6,0,"ng-container",3),e.YNc(6,Be,3,2,"ng-template",null,4,e.W1O),e.qZA(),e.TgZ(8,"div",5),e._uU(9,"API Giao H\xe0ng Ti\u1ebft Ki\u1ec7m"),e.qZA()()()),2&t){const o=e.MAs(7);e.xp6(5),e.Q6J("ngIf",i.nhanhApi)("ngIfElse",o)}},dependencies:[p.O5,u.Fj,u.JJ,u.On,Z.lW,d.KE,d.hX,b.Nt]}),n})(),Ke=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,u.u5,Ae.q,u.UX,_.Bz.forChild([{path:"",component:y,children:[{path:"hoahong",component:Ze},{path:"chiendich",component:ne,children:[{path:":id",component:Ue}]},{path:"nhiemvu",component:be},{path:"doiqua",component:ve},{path:"cauhinhchung",loadChildren:()=>Promise.all([r.e(592),r.e(143)]).then(r.bind(r,1143)).then(a=>a.CauhinhchungModule)},{path:"cauhinhapi",component:Oe}]}]),_.Bz]}),n})()}}]);