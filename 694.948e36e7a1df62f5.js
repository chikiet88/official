(self.webpackChunksite_hderma=self.webpackChunksite_hderma||[]).push([[694],{7660:(M,L,l)=>{"use strict";l.r(L),l.d(L,{SanphamModule:()=>Oe});var f=l(6895),C=l(529),x=l(4006),_=l(9116),Z=l(9102),w=l(9632),v=l(9363),T=l(2289),E=l(1258),h=l(5179),d=l(3612),m=l(6999),e=l(4650),p=l(2866),k=l(9016),O=l(2252),R=l(3238),S=l(4859),I=l(6709),y=l(4850),J=l(9549),q=l(4385),B=l(3267);function U(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",31),e.NdJ("click",function(){const s=e.CHM(t).index,r=e.oxw();return e.KtG(r.checkTags(r.TagsTinhtrang[s]))}),e.TgZ(1,"span",16),e._uU(2),e.qZA(),e.TgZ(3,"span",32),e._uU(4),e.qZA()()}if(2&n){const t=a.$implicit,i=a.index,o=e.oxw();e.xp6(2),e.Oqu(o.TagsTinhtrang[i].checked?"check_box":"check_box_outline_blank"),e.xp6(2),e.Oqu(t.Tieude)}}function V(n,a){if(1&n&&(e.TgZ(0,"mat-checkbox",33)(1,"span",32),e._uU(2),e.qZA()()),2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t.Tieude)}}function Y(n,a){if(1&n&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t.Title)}}function z(n,a){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij("",e.xi3(2,1,t.Gia-t.GiaSale,"1.0-2"),"\u0111")}}function j(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",35)(1,"a",36),e._UZ(2,"img",37),e.TgZ(3,"div",38),e._uU(4),e.qZA()(),e.TgZ(5,"div",39)(6,"div",40),e._uU(7),e.ALo(8,"number"),e.qZA(),e.YNc(9,z,3,4,"div",41),e.TgZ(10,"button",42),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.addtocart(s))}),e.TgZ(11,"span",16),e._uU(12,"shopping_cart"),e.qZA()()()()}if(2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("routerLink",t.Slug),e.xp6(1),e.Q6J("src",i.GetImage(t),e.LSH),e.xp6(2),e.Oqu(t.Tieude),e.xp6(3),e.hij("",e.xi3(8,5,t.GiaSale,"1.0-2"),"\u0111"),e.xp6(2),e.Q6J("ngIf",t.Gia-t.GiaSale>0)}}function Q(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"a",43),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.pageChanged(s))}),e._uU(1),e.qZA()}if(2&n){const t=a.$implicit,i=e.oxw();e.MT6("",t>i.totalPages?"hidden":""," ",t==i.currentPage?"text-white bg-black":"text-gray-500 bg-white",""),e.xp6(1),e.hij(" ",t," ")}}const W=function(){return{standalone:!0}};let $=(()=>{class n{constructor(t,i,o,s,r,c,g,u,A){this.breakpointObserver=t,this._danhmucService=i,this._sanphamService=o,this._tagService=s,this._cartService=r,this._NotifierService=c,this._LocalStorageService=g,this._route=u,this._router=A,this.panelOpenState=!1,this.showFiller=!1,this.isMobile=!1,this.tags=[],this.tempCheckbox=[],this.arrcheckbox=[],this.Sanphams=[],this.FilterSanphams=[],this.Sortby={},this.Sortbys=[{id:1,Title:"M\u1edbi Nh\u1ea5t",value:1},{id:2,Title:"B\xe1n Ch\u1ea1y Nh\u1ea5t",value:2},{id:3,Title:"Gi\xe1 Th\u1ea5p - Cao",value:3},{id:4,Title:"Gi\xe1 Cao - Th\u1ea5p",value:4}],this.itemCart={soluong:0},this.TagsTinhtrang=[],this.FilterTinhtrang=[],this.TagsLoai=[],this.FilterLoai=[],this.listPage=[],this.itemsPerPage=12,this.currentPage=1,this.totalItems=1,this.totalPages=0,this.danhmucs=[]}checkboxTags(t){t.checked=!t.checked,this._tagService.getTagsFilter(t).subscribe()}getListpage(t){this.listPage=t>3?[t-1,t,t+1]:[t,t+1,t+2]}LoadSanpham(t,i){this.currentPage=Number(t),this._sanphamService.getPaginaProducts(t,i).subscribe(o=>{o[0].length>0?(this.totalItems=o[1],this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.pageChanged(Number(t)),this.FilterSanphams=o[0].sort((s,r)=>r.Ngaytao-s.Ngaytao),this._router.navigate([],{queryParams:{page:t},queryParamsHandling:"merge"})):(this.currentPage=1,this._router.navigate([],{queryParams:{page:1},queryParamsHandling:"merge"}))})}ngOnInit(){this._route.queryParams.subscribe(t=>{(null==t.page||0==t.page)&&this._router.navigate([],{queryParams:{page:1},queryParamsHandling:"merge"}),this.LoadSanpham(t.page||1,this.itemsPerPage)}),this.breakpointObserver.observe([T.u3.Handset]).subscribe(t=>{this.drawerMode=t.matches?"over":"side",this.Opened=!t.matches}),this.Sortby=this.Sortbys.find(t=>1==t.value),this._sanphamService.getProducts().subscribe(t=>{t&&(this.Sanphams=t.filter(i=>0==i.Trangthai),this.Sanphams.forEach(i=>{i.Giamgia=((i.Gia-i.GiaSale)/i.Gia).toFixed(2)}))}),this._danhmucService.getDanhmucs().subscribe(),this._danhmucService.danhmucs$.subscribe(t=>{t&&(this.danhmucs=t.filter(i=>i.Products.length>0))}),this._tagService.getTags().subscribe(t=>{t&&(t.forEach(i=>{i.checked=!1}),this.TagsTinhtrang=t.filter(i=>0==i.Loaitag),this.TagsLoai=t.filter(i=>1==i.Loaitag))})}checkTags(t){t.checked=!t.checked,this.TagsTinhtrang[this.TagsTinhtrang.indexOf(t)]=t;const i=this.TagsTinhtrang.every(o=>!1===o.checked);console.log(i),i?this.Reset():this.FilterSanphams=this.Sanphams.filter(o=>o.Tags.some(s=>s.id===t.id))}Reset(){this.TagsTinhtrang=this.TagsTinhtrang.map(t=>({...t,checked:!1})),this.TagsLoai=this.TagsLoai.map(t=>({...t,checked:!1})),this._route.queryParams.subscribe(t=>{this.LoadSanpham(t.page||1,this.itemsPerPage)})}addtocart(t){this.itemCart.id=t?.id,this.itemCart.soluong=1,this.itemCart.Gia=t?.Gia,this.itemCart.GiaSale=t?.GiaSale,this.itemCart.Hinhanh=t?.Hinhanh?.hinhchinh?.spath,this.itemCart.Tieude=t?.Tieude,this.itemCart.Slug=t?.Slug,this._cartService.addToCart(this.itemCart),this._NotifierService.notify("success",`\u0110\xe3 Th\xeam ${t.SKU} v\xe0o gi\u1ecf h\xe0ng`)}GetImage(t){return(0,m.hb)(t?.Hinhanh?.hinhthongtin?.spath)}pageChanged(t){this.getListpage(t),this._router.navigate([],{queryParams:{page:t},queryParamsHandling:"merge"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(T.Yg),e.Y36(E.f),e.Y36(d.D),e.Y36(h.i),e.Y36(p.e),e.Y36(k.lG),e.Y36(O.n),e.Y36(_.gz),e.Y36(_.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["taza-base-sanpham"]],decls:52,vars:13,consts:[[1,"lg:block","hidden","text-center","lg:text-4xl","text-2xl","font-medium","py-8"],["autosize","",1,"w-full"],["position","start",1,"!flex","flex-col","flex-auto","border-0","min-w-0","relative","h-full","lg:w-1/4","w-2/3",3,"opened","mode"],["drawer",""],[1,"relative","flex","flex-col","space-y-3","h-full","w-full","p-8"],[1,"flex","flex-row","justify-between","items-center"],[1,"text-2xl","font-semibold"],[1,"font-semibold",3,"click"],[1,"text-xl","font-semibold"],["class","flex flex-row space-x-2 items-center",3,"click",4,"ngFor","ngForOf"],["color","primary",4,"ngFor","ngForOf"],[1,"!flex","flex-col","flex-auto","space-y-4","min-w-0","relative","bg-white"],[1,"flex","lg:hidden","text-center","lg:text-4xl","text-2xl","font-medium","p-4","mt-4"],[1,"relative","flex","flex-col","max-w-[1920px]"],[1,"flex","flex-row","p-3","items-center","justify-between","w-full"],["type","button",1,"flex","lg:hidden","text-gray-900","bg-white","border","border-gray-300","focus:outline-none","hover:bg-gray-100","focus:ring-4","focus:ring-gray-200","font-medium","rounded-lg","text-sm","px-5","py-2.5","mr-2","mb-2","dark:bg-gray-800","dark:text-white","dark:border-gray-600","dark:hover:bg-gray-700","dark:hover:border-gray-600","dark:focus:ring-gray-700",3,"click"],[1,"material-symbols-outlined"],[1,"hidden","lg:flex","text-2xl","font-semibold"],[1,"flex","flex-row","space-x-4","items-center"],[1,"hidden","lg:flex"],["appearance","outline",1,"text-sm","whitespace-pre-wrap"],[3,"ngModel","ngModelOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"relative","flex","flex-col","h-full","w-full","overflow-auto"],[1,"grid","grid-cols-2","lg:grid-cols-4","lg:gap-4","lg:p-4"],["class","flex flex-col space-y-3 p-4 items-center justify-center",4,"ngFor","ngForOf"],[1,"flex","flex-row","justify-center","px-3","space-x-2","my-4","w-full"],["mat-stroked-button","","href","san-pham?page=1",1,"!min-w-[30px]","!leading-8"],[1,"material-icons"],["mat-stroked-button","",1,"!min-w-[30px]","leading-8",3,"href"],["mat-stroked-button","","class","!min-w-[30px] leading-8",3,"class","click",4,"ngFor","ngForOf"],[1,"flex","flex-row","space-x-2","items-center",3,"click"],[1,"text-quicksand"],["color","primary"],[3,"value"],[1,"flex","flex-col","space-y-3","p-4","items-center","justify-center"],[1,"flex","flex-col","space-y-3","items-center","justify-center",3,"routerLink"],[1,"rounded-lg",3,"src"],[1,"line-clamp-2"],[1,"text-xl","flex","flex-row","space-x-2","items-center"],[1,"font-semibold"],[4,"ngIf"],["mat-icon-button","",1,"bg-black","text-white",3,"click"],["mat-stroked-button","",1,"!min-w-[30px]","leading-8",3,"click"]],template:function(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"h2",0),e._uU(1,"H.DERMA V\xcc V\u1eba \u0110\u1eb8P L\xc0 S\u1ef0 PH\xd9 H\u1ee2P"),e.qZA(),e.TgZ(2,"mat-drawer-container",1)(3,"mat-drawer",2,3)(5,"div",4)(6,"div",5)(7,"span",6),e._uU(8,"B\u1ed9 L\u1ecdc"),e.qZA(),e.TgZ(9,"span",7),e.NdJ("click",function(){return i.Reset()}),e._uU(10," Xo\xe1"),e.qZA()(),e._UZ(11,"mat-divider"),e.TgZ(12,"div",8),e._uU(13,"T\xecnh Tr\u1ea1ng Da"),e.qZA(),e.YNc(14,U,5,2,"div",9),e._UZ(15,"mat-divider"),e.TgZ(16,"div",8),e._uU(17,"Lo\u1ea1i S\u1ea3n Ph\u1ea9m"),e.qZA(),e.YNc(18,V,3,1,"mat-checkbox",10),e.qZA()(),e.TgZ(19,"mat-drawer-content",11)(20,"h2",12),e._uU(21,"H.DERMA V\xcc V\u1eba \u0110\u1eb8P L\xc0 S\u1ef0 PH\xd9 H\u1ee2P"),e.qZA(),e.TgZ(22,"div",13)(23,"div",14)(24,"button",15),e.NdJ("click",function(){e.CHM(o);const r=e.MAs(4);return e.KtG(r.toggle())}),e.TgZ(25,"span",16),e._uU(26,"filter_alt"),e.qZA()(),e.TgZ(27,"div",17),e._uU(28,"S\u1ea3n Ph\u1ea9m"),e.qZA(),e.TgZ(29,"div",18)(30,"div",19),e._uU(31,"20 S\u1ea3n Ph\u1ea9m"),e.qZA(),e.TgZ(32,"mat-form-field",20)(33,"mat-select",21),e.NdJ("ngModelChange",function(r){return i.Sortby=r}),e.YNc(34,Y,2,2,"mat-option",22),e.qZA()()()()(),e.TgZ(35,"div",23)(36,"div",24),e.YNc(37,j,13,8,"div",25),e.qZA(),e.TgZ(38,"div",26)(39,"a",27)(40,"span",28),e._uU(41,"first_page"),e.qZA()(),e.TgZ(42,"a",29)(43,"span",28),e._uU(44,"navigate_before"),e.qZA()(),e.YNc(45,Q,2,5,"a",30),e.TgZ(46,"a",29)(47,"span",28),e._uU(48,"navigate_next"),e.qZA()(),e.TgZ(49,"a",29)(50,"span",28),e._uU(51,"last_page"),e.qZA()()()()()()}2&t&&(e.xp6(3),e.Q6J("opened",i.Opened)("mode",i.drawerMode),e.xp6(11),e.Q6J("ngForOf",i.TagsTinhtrang),e.xp6(4),e.Q6J("ngForOf",i.TagsLoai),e.xp6(15),e.Q6J("ngModel",i.Sortby)("ngModelOptions",e.DdM(12,W)),e.xp6(1),e.Q6J("ngForOf",i.Sortbys),e.xp6(3),e.Q6J("ngForOf",i.FilterSanphams),e.xp6(5),e.MGl("href","san-pham?page=",i.currentPage-1,"",e.LSH),e.xp6(3),e.Q6J("ngForOf",i.listPage),e.xp6(1),e.MGl("href","san-pham?page=",i.currentPage+1,"",e.LSH),e.xp6(3),e.MGl("href","san-pham?page=",i.totalPages,"",e.LSH))},dependencies:[f.sg,f.O5,R.ey,S.lW,S.zs,I.oG,y.d,J.KE,q.gD,B.jA,B.kh,B.LW,x.JJ,x.On,_.yS,f.JJ],styles:[".container[_ngcontent-%COMP%]{width:100%;max-width:1300px;margin:0 auto;box-sizing:border-box}@media only screen and (max-width: 680px){.container[_ngcontent-%COMP%]{max-width:600px}}@media only screen and (max-width: 500px){.container[_ngcontent-%COMP%]{max-width:450px}}@media only screen and (max-width: 320px){.container[_ngcontent-%COMP%]{max-width:300px}}.container[_ngcontent-%COMP%]   .home-product[_ngcontent-%COMP%]{font-size:18px;line-height:24px;color:#0006}.container[_ngcontent-%COMP%]   .mat-drawer-side[_ngcontent-%COMP%]{border-right:solid 1px black}@media only screen and (max-width: 1024px){.button-slide[_ngcontent-%COMP%]{display:none}}"]}),n})();var K=l(7579);let H=(()=>{class n{constructor(){this._lightboxEventSource=new K.x,this.lightboxEvent$=this._lightboxEventSource.asObservable()}broadcastLightboxEvent(t){this._lightboxEventSource.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),D=(()=>{class n{get nativeWindow(){return function X(){return window}()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var ee=l(4327);let te=(()=>{class n{get isFileSaverSupported(){try{return!!new Blob}catch{return!1}}genType(t){if(!t||-1===t.lastIndexOf("."))return"text/plain";const i=t.substr(t.lastIndexOf(".")+1);switch(i){case"txt":return"text/plain";case"xml":case"html":return`text/${i}`;case"json":return"octet/stream";default:return`application/${i}`}}save(t,i,o,s){if(!t)throw new Error("Data argument should be a blob instance");const r=new Blob([t],{type:o||t.type||this.genType(i)});(0,ee.saveAs)(r,decodeURI(i||"download"),s)}saveText(t,i,o){const s=new Blob([t]);this.save(s,i,void 0,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();var ne=l(1481);const oe=["outerContainer"],se=["container"],ae=["leftArrow"],re=["rightArrow"],le=["navArrow"],he=["dataContainer"],ce=["image"],de=["caption"],me=["number"],ue=["lb-content",""];let ge=(()=>{class n{constructor(t,i,o,s,r,c,g,u){this._elemRef=t,this._rendererRef=i,this._lightboxEvent=o,this._lightboxElem=s,this._lightboxWindowRef=r,this._fileSaverService=c,this._sanitizer=g,this._documentRef=u,this.options=this.options||{},this.album=this.album||[],this.currentImageIndex=this.currentImageIndex||0,this._windowRef=this._lightboxWindowRef.nativeWindow,this.ui={showReloader:!0,showLeftArrow:!1,showRightArrow:!1,showArrowNav:!1,showZoomButton:!1,showRotateButton:!1,showPageNumber:!1,showCaption:!1,showDownloadButton:!1,classList:"lightbox animation fadeIn"},this.content={pageNumber:""},this._event={},this._lightboxElem=this._elemRef,this._event.subscription=this._lightboxEvent.lightboxEvent$.subscribe(A=>this._onReceivedEvent(A)),this.rotate=0}ngOnInit(){this.album.forEach(t=>{t.caption&&(t.caption=this._sanitizer.sanitize(e.q3G.HTML,t.caption))})}ngAfterViewInit(){this._cssValue={containerTopPadding:Math.round(this._getCssStyleValue(this._containerElem,"padding-top")),containerRightPadding:Math.round(this._getCssStyleValue(this._containerElem,"padding-right")),containerBottomPadding:Math.round(this._getCssStyleValue(this._containerElem,"padding-bottom")),containerLeftPadding:Math.round(this._getCssStyleValue(this._containerElem,"padding-left")),imageBorderWidthTop:Math.round(this._getCssStyleValue(this._imageElem,"border-top-width")),imageBorderWidthBottom:Math.round(this._getCssStyleValue(this._imageElem,"border-bottom-width")),imageBorderWidthLeft:Math.round(this._getCssStyleValue(this._imageElem,"border-left-width")),imageBorderWidthRight:Math.round(this._getCssStyleValue(this._imageElem,"border-right-width"))},this._validateInputData()&&(this._prepareComponent(),this._registerImageLoadingEvent())}ngOnDestroy(){this.options.disableKeyboardNav||this._disableKeyboardNav(),this._event.subscription.unsubscribe()}close(t){t.stopPropagation(),(t.target.classList.contains("lightbox")||t.target.classList.contains("lb-loader")||t.target.classList.contains("lb-close"))&&this._lightboxEvent.broadcastLightboxEvent({id:2,data:null})}download(t){t.stopPropagation();const i=this.album[this.currentImageIndex].src,o=this.album[this.currentImageIndex].downloadUrl,s=i.split("/"),r=s[s.length-1],c=document.createElement("canvas"),g=c.getContext("2d"),u=new Image,A=this;u.onload=function(){c.width=this.naturalWidth,c.height=this.naturalHeight,g.drawImage(this,0,0),c.toBlob(function(He){A._fileSaverService.save(He,r)},"image/jpeg",.75)},u.crossOrigin="",u.src=this._sanitizer.sanitize(e.q3G.URL,o&&o.length>0?o:i)}control(t){let i,o;t.stopPropagation(),t.target.classList.contains("lb-turnLeft")?(this.rotate=this.rotate-90,this._rotateContainer(),this._calcTransformPoint(),this._documentRef.getElementById("image").style.transform=`rotate(${this.rotate}deg)`,this._documentRef.getElementById("image").style.webkitTransform=`rotate(${this.rotate}deg)`,this._lightboxEvent.broadcastLightboxEvent({id:6,data:null})):t.target.classList.contains("lb-turnRight")?(this.rotate=this.rotate+90,this._rotateContainer(),this._calcTransformPoint(),this._documentRef.getElementById("image").style.transform=`rotate(${this.rotate}deg)`,this._documentRef.getElementById("image").style.webkitTransform=`rotate(${this.rotate}deg)`,this._lightboxEvent.broadcastLightboxEvent({id:7,data:null})):t.target.classList.contains("lb-zoomOut")?(i=parseInt(this._documentRef.getElementById("outerContainer").style.height,10)/1.5,o=parseInt(this._documentRef.getElementById("outerContainer").style.width,10)/1.5,this._documentRef.getElementById("outerContainer").style.height=i+"px",this._documentRef.getElementById("outerContainer").style.width=o+"px",i=parseInt(this._documentRef.getElementById("image").style.height,10)/1.5,o=parseInt(this._documentRef.getElementById("image").style.width,10)/1.5,this._documentRef.getElementById("image").style.height=i+"px",this._documentRef.getElementById("image").style.width=o+"px",this._lightboxEvent.broadcastLightboxEvent({id:5,data:null})):t.target.classList.contains("lb-zoomIn")&&(i=1.5*parseInt(this._documentRef.getElementById("outerContainer").style.height,10),o=1.5*parseInt(this._documentRef.getElementById("outerContainer").style.width,10),this._documentRef.getElementById("outerContainer").style.height=i+"px",this._documentRef.getElementById("outerContainer").style.width=o+"px",i=1.5*parseInt(this._documentRef.getElementById("image").style.height,10),o=1.5*parseInt(this._documentRef.getElementById("image").style.width,10),this._documentRef.getElementById("image").style.height=i+"px",this._documentRef.getElementById("image").style.width=o+"px",this._lightboxEvent.broadcastLightboxEvent({id:4,data:null}))}_rotateContainer(){let t=this.rotate;t<0&&(t*=-1),t/90%4==1||t/90%4==3?(this._documentRef.getElementById("outerContainer").style.height=this._documentRef.getElementById("image").style.width,this._documentRef.getElementById("outerContainer").style.width=this._documentRef.getElementById("image").style.height,this._documentRef.getElementById("container").style.height=this._documentRef.getElementById("image").style.width,this._documentRef.getElementById("container").style.width=this._documentRef.getElementById("image").style.height):(this._documentRef.getElementById("outerContainer").style.height=this._documentRef.getElementById("image").style.height,this._documentRef.getElementById("outerContainer").style.width=this._documentRef.getElementById("image").style.width,this._documentRef.getElementById("container").style.height=this._documentRef.getElementById("image").style.width,this._documentRef.getElementById("container").style.width=this._documentRef.getElementById("image").style.height)}_resetImage(){this.rotate=0,this._documentRef.getElementById("image").style.transform=`rotate(${this.rotate}deg)`,this._documentRef.getElementById("image").style.webkitTransform=`rotate(${this.rotate}deg)`}_calcTransformPoint(){let t=parseInt(this._documentRef.getElementById("image").style.height,10),i=parseInt(this._documentRef.getElementById("image").style.width,10),o=this.rotate%360;o<0&&(o=360+o),90===o?this._documentRef.getElementById("image").style.transformOrigin=t/2+"px "+t/2+"px":180===o?this._documentRef.getElementById("image").style.transformOrigin=i/2+"px "+t/2+"px":270===o&&(this._documentRef.getElementById("image").style.transformOrigin=i/2+"px "+i/2+"px")}nextImage(){1!==this.album.length&&this._changeImage(this.currentImageIndex===this.album.length-1?0:this.currentImageIndex+1)}prevImage(){1!==this.album.length&&this._changeImage(0===this.currentImageIndex&&this.album.length>1?this.album.length-1:this.currentImageIndex-1)}_validateInputData(){if(!(this.album&&this.album instanceof Array&&this.album.length>0))throw new Error("No album data or album data is not correct in type");for(let t=0;t<this.album.length;t++)if(!this.album[t].src)throw new Error("One of the album data does not have source data");if(isNaN(this.currentImageIndex))throw new Error("Current image index is not a number");return this.currentImageIndex=Number(this.currentImageIndex),!0}_registerImageLoadingEvent(){const t=new Image;t.onload=()=>{this._onLoadImageSuccess()},t.src=this._sanitizer.sanitize(e.q3G.URL,this.album[this.currentImageIndex].src)}_onLoadImageSuccess(){let t,i,o,s,r,c,g,u;this.options.disableKeyboardNav||this._disableKeyboardNav(),i=g=this._imageElem.nativeElement.naturalWidth,t=u=this._imageElem.nativeElement.naturalHeight,this.options.fitImageInViewPort&&(c=this._windowRef.innerWidth,r=this._windowRef.innerHeight,s=c-this._cssValue.containerLeftPadding-this._cssValue.containerRightPadding-this._cssValue.imageBorderWidthLeft-this._cssValue.imageBorderWidthRight-20,o=r-this._cssValue.containerTopPadding-this._cssValue.containerTopPadding-this._cssValue.imageBorderWidthTop-this._cssValue.imageBorderWidthBottom-120,(g>s||u>o)&&(g/s>u/o?(i=s,t=Math.round(u/(g/i))):(t=o,i=Math.round(g/(u/t)))),this._rendererRef.setStyle(this._imageElem.nativeElement,"width",`${i}px`),this._rendererRef.setStyle(this._imageElem.nativeElement,"height",`${t}px`)),this._sizeContainer(i,t),this.options.centerVertically&&this._centerVertically(i,t)}_centerVertically(t,i){this._rendererRef.setStyle(this._lightboxElem.nativeElement,"top",`${this._documentRef.documentElement.scrollTop+(this._windowRef.innerHeight/2-i/2)}px`)}_sizeContainer(t,i){const s=this._outerContainerElem.nativeElement.offsetHeight,r=t+this._cssValue.containerRightPadding+this._cssValue.containerLeftPadding+this._cssValue.imageBorderWidthLeft+this._cssValue.imageBorderWidthRight,c=i+this._cssValue.containerTopPadding+this._cssValue.containerBottomPadding+this._cssValue.imageBorderWidthTop+this._cssValue.imageBorderWidthBottom;Math.abs(this._outerContainerElem.nativeElement.offsetWidth-r)+Math.abs(s-c)>5?(this._rendererRef.setStyle(this._outerContainerElem.nativeElement,"width",`${r}px`),this._rendererRef.setStyle(this._outerContainerElem.nativeElement,"height",`${c}px`),this.options.enableTransition?(this._event.transitions=[],["transitionend","webkitTransitionEnd","oTransitionEnd","MSTransitionEnd"].forEach(g=>{this._event.transitions.push(this._rendererRef.listen(this._outerContainerElem.nativeElement,g,u=>{u.target===u.currentTarget&&this._postResize(r,c)}))})):this._postResize(r,c)):this._postResize(r,c)}_postResize(t,i){Array.isArray(this._event.transitions)&&(this._event.transitions.forEach(o=>{o()}),this._event.transitions=[]),this._rendererRef.setStyle(this._dataContainerElem.nativeElement,"width",`${t}px`),this._showImage()}_showImage(){this.ui.showReloader=!1,this._updateNav(),this._updateDetails(),this.options.disableKeyboardNav||this._enableKeyboardNav()}_prepareComponent(){this._addCssAnimation(),this._positionLightBox(),setTimeout(()=>{this.ui.showZoomButton=this.options.showZoom,this.ui.showRotateButton=this.options.showRotate,this.ui.showDownloadButton=this.options.showDownloadButton},0)}_positionLightBox(){const i=this._windowRef.pageXOffset||this._documentRef.documentElement.scrollLeft;this.options.centerVertically||this._rendererRef.setStyle(this._lightboxElem.nativeElement,"top",`${(this._windowRef.pageYOffset||this._documentRef.documentElement.scrollTop)+this.options.positionFromTop}px`),this._rendererRef.setStyle(this._lightboxElem.nativeElement,"left",`${i}px`),this._rendererRef.setStyle(this._lightboxElem.nativeElement,"display","block"),this.options.disableScrolling&&this._rendererRef.addClass(this._documentRef.documentElement,"lb-disable-scrolling")}_addCssAnimation(){const t=this.options.resizeDuration,i=this.options.fadeDuration;this._rendererRef.setStyle(this._lightboxElem.nativeElement,"-webkit-animation-duration",`${i}s`),this._rendererRef.setStyle(this._lightboxElem.nativeElement,"animation-duration",`${i}s`),this._rendererRef.setStyle(this._outerContainerElem.nativeElement,"-webkit-transition-duration",`${t}s`),this._rendererRef.setStyle(this._outerContainerElem.nativeElement,"transition-duration",`${t}s`),this._rendererRef.setStyle(this._dataContainerElem.nativeElement,"-webkit-animation-duration",`${i}s`),this._rendererRef.setStyle(this._dataContainerElem.nativeElement,"animation-duration",`${i}s`),this._rendererRef.setStyle(this._imageElem.nativeElement,"-webkit-animation-duration",`${i}s`),this._rendererRef.setStyle(this._imageElem.nativeElement,"animation-duration",`${i}s`),this._rendererRef.setStyle(this._captionElem.nativeElement,"-webkit-animation-duration",`${i}s`),this._rendererRef.setStyle(this._captionElem.nativeElement,"animation-duration",`${i}s`),this._rendererRef.setStyle(this._numberElem.nativeElement,"-webkit-animation-duration",`${i}s`),this._rendererRef.setStyle(this._numberElem.nativeElement,"animation-duration",`${i}s`)}_end(){this.ui.classList="lightbox animation fadeOut",this.options.disableScrolling&&this._rendererRef.removeClass(this._documentRef.documentElement,"lb-disable-scrolling"),setTimeout(()=>{this.cmpRef.destroy()},1e3*this.options.fadeDuration)}_updateDetails(){typeof this.album[this.currentImageIndex].caption<"u"&&""!==this.album[this.currentImageIndex].caption&&(this.ui.showCaption=!0),this.album.length>1&&this.options.showImageNumberLabel&&(this.ui.showPageNumber=!0,this.content.pageNumber=this._albumLabel())}_albumLabel(){return this.options.albumLabel.replace(/%1/g,Number(this.currentImageIndex+1)).replace(/%2/g,this.album.length)}_changeImage(t){this._resetImage(),this.currentImageIndex=t,this._hideImage(),this._registerImageLoadingEvent(),this._lightboxEvent.broadcastLightboxEvent({id:1,data:t})}_hideImage(){this.ui.showReloader=!0,this.ui.showArrowNav=!1,this.ui.showLeftArrow=!1,this.ui.showRightArrow=!1,this.ui.showPageNumber=!1,this.ui.showCaption=!1}_updateNav(){let t=!1;try{this._documentRef.createEvent("TouchEvent"),t=!!this.options.alwaysShowNavOnTouchDevices}catch{}this._showArrowNav(),this.album.length>1&&(this.options.wrapAround?(t&&(this._rendererRef.setStyle(this._leftArrowElem.nativeElement,"opacity","1"),this._rendererRef.setStyle(this._rightArrowElem.nativeElement,"opacity","1")),this._showLeftArrowNav(),this._showRightArrowNav()):(this.currentImageIndex>0&&(this._showLeftArrowNav(),t&&this._rendererRef.setStyle(this._leftArrowElem.nativeElement,"opacity","1")),this.currentImageIndex<this.album.length-1&&(this._showRightArrowNav(),t&&this._rendererRef.setStyle(this._rightArrowElem.nativeElement,"opacity","1"))))}_showLeftArrowNav(){this.ui.showLeftArrow=!0}_showRightArrowNav(){this.ui.showRightArrow=!0}_showArrowNav(){this.ui.showArrowNav=1!==this.album.length}_enableKeyboardNav(){this._event.keyup=this._rendererRef.listen("document","keyup",t=>{this._keyboardAction(t)})}_disableKeyboardNav(){this._event.keyup&&this._event.keyup()}_keyboardAction(t){const r=t.keyCode,c=String.fromCharCode(r).toLowerCase();27===r||c.match(/x|o|c/)?this._lightboxEvent.broadcastLightboxEvent({id:2,data:null}):"p"===c||37===r?0!==this.currentImageIndex?this._changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this._changeImage(this.album.length-1):("n"===c||39===r)&&(this.currentImageIndex!==this.album.length-1?this._changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this._changeImage(0))}_getCssStyleValue(t,i){return parseFloat(this._windowRef.getComputedStyle(t.nativeElement,null).getPropertyValue(i))}_onReceivedEvent(t){2===t.id&&this._end()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(H),e.Y36(e.SBq),e.Y36(D),e.Y36(te),e.Y36(ne.H7),e.Y36(f.K0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["","lb-content",""]],viewQuery:function(t,i){if(1&t&&(e.Gf(oe,5),e.Gf(se,5),e.Gf(ae,5),e.Gf(re,5),e.Gf(le,5),e.Gf(he,5),e.Gf(ce,5),e.Gf(de,5),e.Gf(me,5)),2&t){let o;e.iGM(o=e.CRH())&&(i._outerContainerElem=o.first),e.iGM(o=e.CRH())&&(i._containerElem=o.first),e.iGM(o=e.CRH())&&(i._leftArrowElem=o.first),e.iGM(o=e.CRH())&&(i._rightArrowElem=o.first),e.iGM(o=e.CRH())&&(i._navArrowElem=o.first),e.iGM(o=e.CRH())&&(i._dataContainerElem=o.first),e.iGM(o=e.CRH())&&(i._imageElem=o.first),e.iGM(o=e.CRH())&&(i._captionElem=o.first),e.iGM(o=e.CRH())&&(i._numberElem=o.first)}},hostVars:2,hostBindings:function(t,i){1&t&&e.NdJ("click",function(s){return i.close(s)}),2&t&&e.Tol(i.ui.classList)},inputs:{album:"album",currentImageIndex:"currentImageIndex",options:"options",cmpRef:"cmpRef"},attrs:ue,decls:34,vars:14,consts:[["id","outerContainer",1,"lb-outerContainer","transition"],["outerContainer",""],["id","container",1,"lb-container"],["container",""],["id","image",1,"lb-image","animation","fadeIn",3,"src","hidden"],["image",""],[1,"lb-nav",3,"hidden"],["navArrow",""],[1,"lb-prev",3,"hidden","click"],["leftArrow",""],[1,"lb-next",3,"hidden","click"],["rightArrow",""],[1,"lb-loader",3,"hidden","click"],[1,"lb-cancel"],[1,"lb-dataContainer",3,"hidden"],["dataContainer",""],[1,"lb-data"],[1,"lb-details"],[1,"lb-caption","animation","fadeIn",3,"hidden","innerHtml"],["caption",""],[1,"lb-number","animation","fadeIn",3,"hidden"],["number",""],[1,"lb-controlContainer"],[1,"lb-closeContainer"],[1,"lb-close",3,"click"],[1,"lb-downloadContainer",3,"hidden"],[1,"lb-download",3,"click"],[1,"lb-turnContainer",3,"hidden"],[1,"lb-turnLeft",3,"click"],[1,"lb-turnRight",3,"click"],[1,"lb-zoomContainer",3,"hidden"],[1,"lb-zoomOut",3,"click"],[1,"lb-zoomIn",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0,1)(2,"div",2,3),e._UZ(4,"img",4,5),e.TgZ(6,"div",6,7)(8,"a",8,9),e.NdJ("click",function(){return i.prevImage()}),e.qZA(),e.TgZ(10,"a",10,11),e.NdJ("click",function(){return i.nextImage()}),e.qZA()(),e.TgZ(12,"div",12),e.NdJ("click",function(s){return i.close(s)}),e._UZ(13,"a",13),e.qZA()()(),e.TgZ(14,"div",14,15)(16,"div",16)(17,"div",17),e._UZ(18,"span",18,19),e.TgZ(20,"span",20,21),e._uU(22),e.qZA()(),e.TgZ(23,"div",22)(24,"div",23)(25,"a",24),e.NdJ("click",function(s){return i.close(s)}),e.qZA()(),e.TgZ(26,"div",25)(27,"a",26),e.NdJ("click",function(s){return i.download(s)}),e.qZA()(),e.TgZ(28,"div",27)(29,"a",28),e.NdJ("click",function(s){return i.control(s)}),e.qZA(),e.TgZ(30,"a",29),e.NdJ("click",function(s){return i.control(s)}),e.qZA()(),e.TgZ(31,"div",30)(32,"a",31),e.NdJ("click",function(s){return i.control(s)}),e.qZA(),e.TgZ(33,"a",32),e.NdJ("click",function(s){return i.control(s)}),e.qZA()()()()()),2&t&&(e.xp6(4),e.Q6J("src",i.album[i.currentImageIndex].src,e.LSH)("hidden",i.ui.showReloader),e.xp6(2),e.Q6J("hidden",!i.ui.showArrowNav),e.xp6(2),e.Q6J("hidden",!i.ui.showLeftArrow),e.xp6(2),e.Q6J("hidden",!i.ui.showRightArrow),e.xp6(2),e.Q6J("hidden",!i.ui.showReloader),e.xp6(2),e.Q6J("hidden",i.ui.showReloader),e.xp6(4),e.Q6J("hidden",!i.ui.showCaption)("innerHtml",i.album[i.currentImageIndex].caption,e.oJD),e.xp6(2),e.Q6J("hidden",!i.ui.showPageNumber),e.xp6(2),e.Oqu(i.content.pageNumber),e.xp6(4),e.Q6J("hidden",!i.ui.showDownloadButton),e.xp6(2),e.Q6J("hidden",!i.ui.showRotateButton),e.xp6(3),e.Q6J("hidden",!i.ui.showZoomButton))},encapsulation:2}),n})(),F=(()=>{class n{constructor(){this.fadeDuration=.7,this.resizeDuration=.5,this.fitImageInViewPort=!0,this.positionFromTop=20,this.showImageNumberLabel=!1,this.alwaysShowNavOnTouchDevices=!1,this.wrapAround=!1,this.disableKeyboardNav=!1,this.disableScrolling=!1,this.centerVertically=!1,this.enableTransition=!0,this.albumLabel="Image %1 of %2",this.showZoom=!1,this.showRotate=!1,this.containerElementResolver=t=>t.querySelector("body")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();const pe=["lb-overlay",""];let fe=(()=>{class n{constructor(t,i,o,s){this._elemRef=t,this._rendererRef=i,this._lightboxEvent=o,this._documentRef=s,this.classList="lightboxOverlay animation fadeInOverlay",this._subscription=this._lightboxEvent.lightboxEvent$.subscribe(r=>this._onReceivedEvent(r))}close(){this._lightboxEvent.broadcastLightboxEvent({id:2,data:null})}ngAfterViewInit(){const t=this.options.fadeDuration;this._rendererRef.setStyle(this._elemRef.nativeElement,"-webkit-animation-duration",`${t}s`),this._rendererRef.setStyle(this._elemRef.nativeElement,"animation-duration",`${t}s`),this._sizeOverlay()}onResize(){this._sizeOverlay()}ngOnDestroy(){this._subscription.unsubscribe()}_sizeOverlay(){const t=this._getOverlayWidth(),i=this._getOverlayHeight();this._rendererRef.setStyle(this._elemRef.nativeElement,"width",`${t}px`),this._rendererRef.setStyle(this._elemRef.nativeElement,"height",`${i}px`)}_onReceivedEvent(t){2===t.id&&this._end()}_end(){this.classList="lightboxOverlay animation fadeOutOverlay",setTimeout(()=>{this.cmpRef.destroy()},1e3*this.options.fadeDuration)}_getOverlayWidth(){return Math.max(this._documentRef.body.scrollWidth,this._documentRef.body.offsetWidth,this._documentRef.documentElement.clientWidth,this._documentRef.documentElement.scrollWidth,this._documentRef.documentElement.offsetWidth)}_getOverlayHeight(){return Math.max(this._documentRef.body.scrollHeight,this._documentRef.body.offsetHeight,this._documentRef.documentElement.clientHeight,this._documentRef.documentElement.scrollHeight,this._documentRef.documentElement.offsetHeight)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(H),e.Y36(f.K0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["","lb-overlay",""]],hostVars:2,hostBindings:function(t,i){1&t&&e.NdJ("click",function(){return i.close()})("resize",function(){return i.onResize()},!1,e.Jf7),2&t&&e.Tol(i.classList)},inputs:{options:"options",cmpRef:"cmpRef"},attrs:pe,decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})(),P=(()=>{class n{constructor(t,i,o,s,r,c){this._componentFactoryResolver=t,this._injector=i,this._applicationRef=o,this._lightboxConfig=s,this._lightboxEvent=r,this._documentRef=c}open(t,i=0,o={}){const s=this._createComponent(fe),r=this._createComponent(ge),c={};this._lightboxEvent.broadcastLightboxEvent({id:3}),Object.assign(c,this._lightboxConfig,o),r.instance.album=t,r.instance.currentImageIndex=i,r.instance.options=c,r.instance.cmpRef=r,s.instance.options=c,s.instance.cmpRef=s,setTimeout(()=>{this._applicationRef.attachView(s.hostView),this._applicationRef.attachView(r.hostView),s.onDestroy(()=>{this._applicationRef.detachView(s.hostView)}),r.onDestroy(()=>{this._applicationRef.detachView(r.hostView)});const g=c.containerElementResolver(this._documentRef);g.appendChild(s.location.nativeElement),g.appendChild(r.location.nativeElement)})}close(){this._lightboxEvent&&this._lightboxEvent.broadcastLightboxEvent({id:2})}_createComponent(t){return this._componentFactoryResolver.resolveComponentFactory(t).create(this._injector)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(e._Vd),e.LFG(e.zs3),e.LFG(e.z2F),e.LFG(F),e.LFG(H),e.LFG(f.K0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),_e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[P,F,H,D],imports:[ie]}),n})();var ve=l(8075),G=l(7331),N=l(3848);const be=["swiper"];function xe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"img",39),e.NdJ("click",function(){const s=e.CHM(t).index,r=e.oxw();return e.KtG(r.goToSlide(s))}),e.qZA()()}if(2&n){const t=a.$implicit,i=a.index,o=e.oxw();e.xp6(1),e.Gre("",o.indexNumber==i?"border border-blue-600":""," max-h-full max-w-full m-auto"),e.Q6J("src",t,e.LSH)}}function we(n,a){if(1&n&&e._UZ(0,"img",41),2&n){const t=e.oxw().$implicit;e.Q6J("src",t,e.LSH)}}function ye(n,a){1&n&&e.YNc(0,we,1,1,"ng-template",40)}function Ee(n,a){if(1&n&&(e.TgZ(0,"span",42),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("",e.xi3(2,1,t.Sanpham.Gia,"1.0-2"),"\u0111")}}function Se(n,a){if(1&n&&(e.TgZ(0,"mat-chip"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.Tieude)}}function Ce(n,a){1&n&&(e.TgZ(0,"div",43),e._uU(1,"TH\xd4NG TIN S\u1ea2N PH\u1ea8M"),e.qZA())}function Te(n,a){1&n&&(e.TgZ(0,"div",43),e._uU(1," C\xc1CH S\u1eec D\u1ee4NG"),e.qZA())}function Re(n,a){1&n&&(e.TgZ(0,"div",43),e._uU(1,"TH\xc0NH PH\u1ea6N"),e.qZA())}function Ie(n,a){if(1&n&&(e.TgZ(0,"span",42),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.hij("",e.xi3(2,1,t.Gia,"1.0-2"),"\u0111")}}const Ae=function(n){return[n]};function Le(n,a){if(1&n&&(e.TgZ(0,"a",44),e._UZ(1,"img",45),e.TgZ(2,"div",46)(3,"div",47),e._uU(4),e.qZA(),e.TgZ(5,"div",48),e._UZ(6,"div",10),e.qZA(),e.TgZ(7,"div",49)(8,"span",12),e._uU(9),e.ALo(10,"number"),e.qZA(),e.YNc(11,Ie,3,4,"span",13),e.qZA()()()),2&n){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("href",e.VKq(9,Ae,"/san-pham/"+t.Slug),e.LSH),e.xp6(1),e.Q6J("src",i.GetImage(null==t||null==t.Hinhanh||null==t.Hinhanh.hinhchinh?null:t.Hinhanh.hinhchinh.spath),e.LSH),e.xp6(3),e.Oqu(t.Tieude),e.xp6(2),e.Q6J("innerHTML",t.Mota,e.oJD),e.xp6(3),e.hij("",e.xi3(10,6,t.GiaSale,"1.0-2"),"\u0111"),e.xp6(2),e.Q6J("ngIf",i.Sanpham.Gia-i.Sanpham.GiaSale>0)}}function Ze(n,a){1&n&&e.YNc(0,Le,12,11,"ng-template",40)}let ke=(()=>{class n{constructor(t,i,o,s,r,c,g,u){this._SanphamService=t,this._ActivatedRoute=i,this._tagService=o,this._notifierService=s,this._router=r,this._lightbox=c,this._cartService=g,this._SeotoolService=u,this.Sanpham={Title:"",Hinhanh:{ContentImage:{spath:""},Image:{spath:""},hinh1:{spath:""},hinh2:{spath:""},hinh3:{spath:""},hinh4:{spath:""}}},this.Hinhanhs=[],this.Reviews=[{}],this.configthumbs={},this.itemCart={soluong:0},this.indexNumber=1,this.slideConfig={slidesToShow:4,slidesToScroll:2,dots:!0,autoplay:!0,autoplaySpeed:2e3,responsive:[{breakpoint:1024,settings:{slidesToShow:3}},{breakpoint:600,settings:{slidesToShow:2}},{breakpoint:480,settings:{slidesToShow:1}}]}}goToSlide(t){this.indexNumber=t,this.swiper&&this.swiper.swiperRef.slideTo(t)}updateCart(t,i){const o={};o.id=t?.id,o.Gia=t?.Gia,o.GiaSale=t?.GiaSale,o.Hinhanh=t?.Hinhanh?.hinhchinh?.spath,o.Tieude=t?.Tieude,o.Slug=t?.Slug,i>0&&(this._cartService.updateQuantity(o,i),this._notifierService.notify("success","Th\xeam Th\xe0nh C\xf4ng"))}onKeyDown(t){["0","1","2","3","4","5","6","7","8","9","Backspace"].includes(t.key)||t.preventDefault()}ngOnInit(){this._ActivatedRoute.url.subscribe(t=>{t.join("/")}),this._ActivatedRoute.params.subscribe(t=>{this._SanphamService.getProductBySlug(t.slug).subscribe(i=>{console.log(i),this._cartService.getCarts(),this.Hinhanhs.push((0,m.hb)(i?.Hinhanh?.hinh1?.spath)),this.Hinhanhs.push((0,m.hb)(i?.Hinhanh?.hinh2?.spath)),this.Hinhanhs.push((0,m.hb)(i?.Hinhanh?.hinh3?.spath)),this.Hinhanhs.push((0,m.hb)(i?.Hinhanh?.hinh4?.spath)),this.Hinhanhs.push((0,m.hb)(i?.Hinhanh?.hinh5?.spath)),this.Sanpham=i,this.Sanpham.soluong=1,this._cartService.carts$.subscribe(o=>{if(o){const s=o.find(r=>r.id==this.Sanpham.id);s&&(this.Sanpham.soluong=s.soluong)}}),this._SeotoolService.setMetaData(i.TitleSeo,i.DesSeo,i.KeywordSeo,i.RobotsSeo,i.Slug,(0,m.hb)(i?.Hinhanh?.hinhchinh?.spath)),this._SanphamService.getProducts().subscribe(o=>{this.SPTuongtu=o.filter(s=>s.Danhmuc.id==i.Danhmuc.id).slice(0,4)}),this.Giamgia=((i.Gia-i.GiaSale)/i.Gia).toFixed(2)})}),this.configthumbs={direction:"vertical",loop:!0,slidesPerView:4,breakpoints:{320:{slidesPerView:1,spaceBetween:20},982:{slidesPerView:3,spaceBetween:30}},freeMode:!1},this.config={infinite:!0,slidesPerView:1,breakpoints:{320:{slidesPerView:1,spaceBetween:20},982:{slidesPerView:1,spaceBetween:30}},thumbs:{swiper:this.configthumbs},freeMode:!1},this.configproduct={infinite:!0,slidesPerView:4,navigator:!0,breakpoints:{320:{slidesPerView:2,spaceBetween:20},982:{slidesPerView:4,spaceBetween:30}},thumbs:{swiper:this.configthumbs},freeMode:!1}}GetImage(t){return(0,m.hb)(t)}open(t,i){this._lightbox.open([{src:t.Hinhanh[i].spath,caption:t.Hinhanh[i].name,thumb:t.Hinhanh[i].spath}])}close(){this._lightbox.close()}addtocart(t){this.itemCart.id=t.id,this.itemCart.soluong=1,this.itemCart.Gia=t.Gia,this.itemCart.GiaSale=t.GiaSale,this.itemCart.Hinhanh=t?.Hinhanh?.hinhchinh?.spath,this.itemCart.Tieude=t.Tieude,this.itemCart.Slug=t.Slug,this._cartService.addToCart(this.itemCart)}addSlide(){}removeSlide(){}slickInit(t){}breakpoint(t){}afterChange(t){}beforeChange(t){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.D),e.Y36(_.gz),e.Y36(h.i),e.Y36(k.lG),e.Y36(_.F0),e.Y36(P),e.Y36(p.e),e.Y36(ve.Z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-sanpham-chitiet"]],viewQuery:function(t,i){if(1&t&&e.Gf(be,5),2&t){let o;e.iGM(o=e.CRH())&&(i.swiper=o.first)}},decls:63,vars:20,consts:[[1,"flex","flex-col","max-w-7xl","m-auto","p-4","h-full"],[1,"grid","lg:grid-cols-5","grid-cols-1","lg:gap-8","lg:p-4"],[1,"col-span-2","grid","grid-cols-6","gap-2","w-full"],[1,"flex","flex-col","space-y-2"],[4,"ngFor","ngForOf"],[1,"col-span-5"],[1,"mySwiper","m-auto",3,"config"],["swiper",""],[1,"col-span-3","flex","flex-col","space-y-6","lg:mt-0","mt-4"],[1,"text-2xl","font-semibold"],[3,"innerHTML"],[1,"flex","flex-row","space-x-3","items-center"],[1,"text-3xl","font-semibold"],["class","line-through",4,"ngIf"],[1,"flex","flex-row","space-x-3"],[1,"group","flex","items-center","justify-between","rounded-md","overflow-hidden","flex-shrink-0","border","h-11","md:h-12","border-gray-300"],[1,"flex","items-center","justify-center","flex-shrink-0","h-full","transition","ease-in-out","duration-300","focus:outline-none","w-10","md:w-12","text-heading","border-e","border-gray-300","hover:text-white","hover:bg-black",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","12px","height","2px","viewBox","0 0 12 1.5"],["data-name","Rectangle 970","width","12px","height","2px","fill","currentColor"],["type","number",1,"w-24","px-4","h-full","text-sm","font-medium","text-gray-900","bg-white","border-t","border-b","border-gray-200","hover:bg-gray-100","hover:text-blue-700","focus:z-10","focus:ring-2","focus:ring-blue-700","focus:text-blue-700",3,"ngModel","keydown","ngModelChange"],[1,"flex","items-center","justify-center","h-full","flex-shrink-0","transition","ease-in-out","duration-300","focus:outline-none","w-10","md:w-12","text-heading","border-s","border-gray-300","hover:text-white","hover:bg-black",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","12px","height","12px","viewBox","0 0 12 12"],["data-name","Group 5367"],["data-name","Path 17138","d","M6.749,5.251V0h-1.5V5.251H0v1.5H5.251V12h1.5V6.749H12v-1.5Z","fill","currentColor"],["mat-stroked-button","",1,"bg-black","text-white",3,"click"],[1,"flex","flex-col"],[1,"font-semibold"],[1,"font-semibold","flex","flex-row","space-x-2"],[1,"pt-20","flex","flex-col","space-y-8","justify-between","max-w-[1440px]"],["mat-stretch-tabs",""],["mat-tab-label",""],[1,"py-8","w-full","flex","lg:flex-row","lg:space-x-6","flex-col"],[1,"max-w-[400px]",3,"src"],[1,"text-quicksand",3,"innerHTML"],[1,"py-8","w-full"],[1,"pt-10","flex","flex-col","space-y-8","justify-between","max-w-[1440px]"],[1,"uppercase","lg:text-5xl","text-2xl","leading-snug","text-center"],[1,"py-4"],[1,"mySwiper","font-medium",3,"config"],[3,"src","click"],["swiperSlide",""],[3,"src"],[1,"line-through"],[1,"text-quicksand","lg:text-2xl"],[1,"rounded-lg","grid","grid-cols-1","gap-4","content-between","w-full","hover:-translate-y-1","md:hover:-translate-y-1.5","hover:shadow",3,"href"],[1,"w-full",3,"src"],[1,"flex","flex-col","space-y-2","p-4"],[1,"font-semibold","line-clamp-2"],[1,"line-clamp-2"],[1,"flex","flex-col","space-y-3","items-center"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.YNc(4,xe,2,4,"div",4),e.qZA(),e.TgZ(5,"div",5)(6,"swiper",6,7),e.YNc(8,ye,1,0,null,4),e.qZA()()(),e.TgZ(9,"div",8)(10,"div",9),e._uU(11),e.qZA(),e._UZ(12,"div",10),e.TgZ(13,"div",11)(14,"span",12),e._uU(15),e.ALo(16,"number"),e.qZA(),e.YNc(17,Ee,3,4,"span",13),e.qZA(),e._UZ(18,"mat-divider"),e.TgZ(19,"div",14)(20,"div",15)(21,"button",16),e.NdJ("click",function(){return i.Sanpham.soluong=i.Sanpham.soluong-1}),e.O4$(),e.TgZ(22,"svg",17),e._UZ(23,"rect",18),e.qZA()(),e.kcU(),e.TgZ(24,"input",19),e.NdJ("keydown",function(s){return i.onKeyDown(s)})("ngModelChange",function(s){return i.Sanpham.soluong=s}),e.qZA(),e.TgZ(25,"button",20),e.NdJ("click",function(){return i.Sanpham.soluong=i.Sanpham.soluong+1}),e.O4$(),e.TgZ(26,"svg",21)(27,"g",22),e._UZ(28,"path",23),e.qZA()()()(),e.kcU(),e.TgZ(29,"button",24),e.NdJ("click",function(){return i.updateCart(i.Sanpham,i.Sanpham.soluong)}),e._uU(30,"Th\xeam V\xe0o Gi\u1ecf H\xe0ng"),e.qZA()(),e._UZ(31,"mat-divider"),e.TgZ(32,"div",25)(33,"div",26),e._uU(34),e.qZA(),e.TgZ(35,"div",26),e._uU(36),e.qZA(),e.TgZ(37,"div",27)(38,"span"),e._uU(39,"Lo\u1ea1i S\u1ea3n Ph\u1ea9m:"),e.qZA(),e.TgZ(40,"mat-chip-list"),e.YNc(41,Se,2,1,"mat-chip",4),e.qZA()()()()(),e.TgZ(42,"div",28)(43,"mat-tab-group",29)(44,"mat-tab"),e.YNc(45,Ce,2,0,"ng-template",30),e.TgZ(46,"div",31),e._UZ(47,"img",32)(48,"div",33),e.qZA()(),e.TgZ(49,"mat-tab"),e.YNc(50,Te,2,0,"ng-template",30),e.TgZ(51,"div",34),e._UZ(52,"div",33),e.qZA()(),e.TgZ(53,"mat-tab"),e.YNc(54,Re,2,0,"ng-template",30),e.TgZ(55,"div",34),e._UZ(56,"div",33),e.qZA()()()(),e.TgZ(57,"div",35)(58,"div",36),e._uU(59," C\xd3 TH\u1ec2 B\u1ea0N QUAN T\xc2M "),e.qZA(),e.TgZ(60,"div",37)(61,"swiper",38),e.YNc(62,Ze,1,0,null,4),e.qZA()()()()),2&t&&(e.xp6(4),e.Q6J("ngForOf",i.Hinhanhs),e.xp6(2),e.Q6J("config",i.config),e.xp6(2),e.Q6J("ngForOf",i.Hinhanhs),e.xp6(3),e.Oqu(i.Sanpham.Tieude),e.xp6(1),e.Q6J("innerHTML",i.Sanpham.Mota,e.oJD),e.xp6(3),e.hij("",e.xi3(16,17,i.Sanpham.GiaSale,"1.0-2"),"\u0111"),e.xp6(2),e.Q6J("ngIf",i.Sanpham.Gia-i.Sanpham.GiaSale>0),e.xp6(7),e.Q6J("ngModel",i.Sanpham.soluong),e.xp6(10),e.hij("M\xe3 H\xe0ng : ",null==i.Sanpham?null:i.Sanpham.SKU,""),e.xp6(2),e.hij("Danh m\u1ee5c : ",null==i.Sanpham||null==i.Sanpham.Danhmuc?null:i.Sanpham.Danhmuc.Title,""),e.xp6(5),e.Q6J("ngForOf",i.Sanpham.Tags),e.xp6(6),e.Q6J("src",i.GetImage(null==i.Sanpham||null==i.Sanpham.Hinhanh||null==i.Sanpham.Hinhanh.hinhthongtin?null:i.Sanpham.Hinhanh.hinhthongtin.spath),e.LSH),e.xp6(1),e.Q6J("innerHTML",null==i.Sanpham||null==i.Sanpham.Noidung?null:i.Sanpham.Noidung.Thongtin,e.oJD),e.xp6(4),e.Q6J("innerHTML",null==i.Sanpham||null==i.Sanpham.Noidung?null:i.Sanpham.Noidung.Sudung,e.oJD),e.xp6(4),e.Q6J("innerHTML",null==i.Sanpham||null==i.Sanpham.Noidung?null:i.Sanpham.Noidung.Thanhphan,e.oJD),e.xp6(5),e.Q6J("config",i.configproduct),e.xp6(1),e.Q6J("ngForOf",i.SPTuongtu))},dependencies:[f.sg,f.O5,S.lW,G.qn,G.HS,y.d,N.SP,N.uD,N.uX,x.Fj,x.wV,x.JJ,w.nF,w.YC,x.On,f.JJ],encapsulation:2}),n})(),Oe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[f.ez,v.q,x.UX,w.kz,C.JF,Z.Z_,x.u5,_e,_.Bz.forChild([{path:"",component:$},{path:":slug",component:ke}]),_.Bz]}),n})()},4327:function(M,L){var C;void 0!==(C=function(){"use strict";function _(h,d,m){var e=new XMLHttpRequest;e.open("GET",h),e.responseType="blob",e.onload=function(){E(e.response,d,m)},e.onerror=function(){console.error("could not download file")},e.send()}function Z(h){var d=new XMLHttpRequest;d.open("HEAD",h,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function w(h){try{h.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),h.dispatchEvent(d)}}var v="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,T=v.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),E=v.saveAs||("object"!=typeof window||window!==v?function(){}:"download"in HTMLAnchorElement.prototype&&!T?function(h,d,m){var e=v.URL||v.webkitURL,p=document.createElement("a");p.download=d=d||h.name||"download",p.rel="noopener","string"==typeof h?(p.href=h,p.origin===location.origin?w(p):Z(p.href)?_(h,d,m):w(p,p.target="_blank")):(p.href=e.createObjectURL(h),setTimeout(function(){e.revokeObjectURL(p.href)},4e4),setTimeout(function(){w(p)},0))}:"msSaveOrOpenBlob"in navigator?function(h,d,m){if(d=d||h.name||"download","string"!=typeof h)navigator.msSaveOrOpenBlob(function x(h,d){return typeof d>"u"?d={autoBom:!1}:"object"!=typeof d&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(h.type)?new Blob(["\ufeff",h],{type:h.type}):h}(h,m),d);else if(Z(h))_(h,d,m);else{var e=document.createElement("a");e.href=h,e.target="_blank",setTimeout(function(){w(e)})}}:function(h,d,m,e){if((e=e||open("","_blank"))&&(e.document.title=e.document.body.innerText="downloading..."),"string"==typeof h)return _(h,d,m);var p="application/octet-stream"===h.type,k=/constructor/i.test(v.HTMLElement)||v.safari,O=/CriOS\/[\d]+/.test(navigator.userAgent);if((O||p&&k||T)&&typeof FileReader<"u"){var R=new FileReader;R.onloadend=function(){var y=R.result;y=O?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),e?e.location.href=y:location=y,e=null},R.readAsDataURL(h)}else{var S=v.URL||v.webkitURL,I=S.createObjectURL(h);e?e.location=I:location.href=I,e=null,setTimeout(function(){S.revokeObjectURL(I)},4e4)}});v.saveAs=E.saveAs=E,M.exports=E}.apply(L,[]))&&(M.exports=C)}}]);